(self.webpackChunkweb=self.webpackChunkweb||[]).push([[171],{47171:function(e,t,n){var r=n(34155);!function(e){"use strict";const t=Symbol.for("yaml.alias"),s=Symbol.for("yaml.document"),i=Symbol.for("yaml.map"),o=Symbol.for("yaml.pair"),a=Symbol.for("yaml.scalar"),c=Symbol.for("yaml.seq"),l=Symbol.for("yaml.node.type"),u=e=>!!e&&"object"==typeof e&&e[l]===t,f=e=>!!e&&"object"==typeof e&&e[l]===s,h=e=>!!e&&"object"==typeof e&&e[l]===i,p=e=>!!e&&"object"==typeof e&&e[l]===o,d=e=>!!e&&"object"==typeof e&&e[l]===a,m=e=>!!e&&"object"==typeof e&&e[l]===c;function y(e){if(e&&"object"==typeof e)switch(e[l]){case i:case c:return!0}return!1}function g(e){if(e&&"object"==typeof e)switch(e[l]){case t:case i:case a:case c:return!0}return!1}const v=e=>(d(e)||y(e))&&!!e.anchor;class b{constructor(e){Object.defineProperty(this,l,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const w=Symbol("break visit"),_=Symbol("skip children"),O=Symbol("remove node");function E(e,t){const n=A(t);f(e)?S(null,e.contents,n,Object.freeze([e]))===O&&(e.contents=null):S(null,e,n,Object.freeze([]))}function S(e,t,n,r){const s=T(e,t,n,r);if(g(s)||p(s))return I(e,r,s),S(e,s,n,r);if("symbol"!=typeof s)if(y(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){const s=S(e,t.items[e],n,r);if("number"==typeof s)e=s-1;else{if(s===w)return w;s===O&&(t.items.splice(e,1),e-=1)}}}else if(p(t)){r=Object.freeze(r.concat(t));const e=S("key",t.key,n,r);if(e===w)return w;e===O&&(t.key=null);const s=S("value",t.value,n,r);if(s===w)return w;s===O&&(t.value=null)}return s}async function k(e,t){const n=A(t);f(e)?await N(null,e.contents,n,Object.freeze([e]))===O&&(e.contents=null):await N(null,e,n,Object.freeze([]))}async function N(e,t,n,r){const s=await T(e,t,n,r);if(g(s)||p(s))return I(e,r,s),N(e,s,n,r);if("symbol"!=typeof s)if(y(t)){r=Object.freeze(r.concat(t));for(let e=0;e<t.items.length;++e){const s=await N(e,t.items[e],n,r);if("number"==typeof s)e=s-1;else{if(s===w)return w;s===O&&(t.items.splice(e,1),e-=1)}}}else if(p(t)){r=Object.freeze(r.concat(t));const e=await N("key",t.key,n,r);if(e===w)return w;e===O&&(t.key=null);const s=await N("value",t.value,n,r);if(s===w)return w;s===O&&(t.value=null)}return s}function A(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function T(e,t,n,r){return"function"==typeof n?n(e,t,r):h(t)?n.Map?.(e,t,r):m(t)?n.Seq?.(e,t,r):p(t)?n.Pair?.(e,t,r):d(t)?n.Scalar?.(e,t,r):u(t)?n.Alias?.(e,t,r):void 0}function I(e,t,n){const r=t[t.length-1];if(y(r))r.items[e]=n;else if(p(r))"key"===e?r.key=n:r.value=n;else{if(!f(r)){const e=u(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}r.contents=n}}E.BREAK=w,E.SKIP=_,E.REMOVE=O,k.BREAK=w,k.SKIP=_,k.REMOVE=O;const P={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},x=e=>e.replace(/[!,[\]{}]/g,(e=>P[e]));class L{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},L.defaultYaml,e),this.tags=Object.assign({},L.defaultTags,t)}clone(){const e=new L(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new L(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:L.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},L.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:L.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},L.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),r=n.shift();switch(r){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,r]=n;return this.tags[e]=r,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;return"1.1"===e||"1.2"===e?(this.yaml.version=e,!0):(t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1)}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,r]=e.match(/^(.*!)([^!]*)$/);r||t(`The ${e} tag has no suffix`);const s=this.tags[n];return s?s+decodeURIComponent(r):"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+x(e.substring(n.length));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let r;if(e&&n.length>0&&g(e.contents)){const t={};E(e.contents,((e,n)=>{g(n)&&n.tag&&(t[n.tag]=!0)})),r=Object.keys(t)}else r=[];for(const[s,i]of n)"!!"===s&&"tag:yaml.org,2002:"===i||e&&!r.some((e=>e.startsWith(i)))||t.push(`%TAG ${s} ${i}`);return t.join("\n")}}function C(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function j(e){const t=new Set;return E(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function $(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function M(e,t){const n=[],r=new Map;let s=null;return{onAnchor:r=>{n.push(r),s||(s=j(e));const i=$(t,s);return s.add(i),i},setAnchors:()=>{for(const e of n){const t=r.get(e);if("object"!=typeof t||!t.anchor||!d(t.node)&&!y(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:r}}L.defaultYaml={explicit:!1,version:"1.2"},L.defaultTags={"!!":"tag:yaml.org,2002:"};class R extends b{constructor(e){super(t),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return E(e,{Node:(e,n)=>{if(n===this)return E.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:r,maxAliasCount:s}=t,i=this.resolve(r);if(!i){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}const o=n.get(i);if(!o||void 0===o.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(s>=0&&(o.count+=1,0===o.aliasCount&&(o.aliasCount=D(r,i,n)),o.count*o.aliasCount>s))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return o.res}toString(e,t,n){const r=`*${this.source}`;if(e){if(C(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${r} `}return r}}function D(e,t,n){if(u(t)){const r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}if(y(t)){let r=0;for(const s of t.items){const t=D(e,s,n);t>r&&(r=t)}return r}if(p(t)){const r=D(e,t.key,n),s=D(e,t.value,n);return Math.max(r,s)}return 1}function U(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>U(e,String(t),n)));if(e&&"function"==typeof e.toJSON){if(!n||!v(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=e=>{r.res=e,delete n.onCreate};const s=e.toJSON(t,n);return n.onCreate&&n.onCreate(s),s}return"bigint"!=typeof e||n?.keep?e:Number(e)}const B=e=>!e||"function"!=typeof e&&"object"!=typeof e;class V extends b{constructor(e){super(a),this.value=e}toJSON(e,t){return t?.keep?this.value:U(this.value,e,t)}toString(){return String(this.value)}}V.BLOCK_FOLDED="BLOCK_FOLDED",V.BLOCK_LITERAL="BLOCK_LITERAL",V.PLAIN="PLAIN",V.QUOTE_DOUBLE="QUOTE_DOUBLE",V.QUOTE_SINGLE="QUOTE_SINGLE";const F="tag:yaml.org,2002:";function K(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),r=e.find((e=>!e.format))??e[0];if(!r)throw new Error(`Tag ${t} not found`);return r}return n.find((t=>t.identify?.(e)&&!t.format))}function G(e,t,n){if(f(e)&&(e=e.contents),g(e))return e;if(p(e)){const t=n.schema[i].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"function"==typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:o,schema:a,sourceObjects:l}=n;let u;if(r&&e&&"object"==typeof e){if(u=l.get(e),u)return u.anchor||(u.anchor=s(e)),new R(u.anchor);u={anchor:null,node:null},l.set(e,u)}t?.startsWith("!!")&&(t=F+t.slice(2));let h=K(e,t,a.tags);if(!h){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new V(e);return u&&(u.node=t),t}h=e instanceof Map?a[i]:Symbol.iterator in Object(e)?a[c]:a[i]}o&&(o(h),delete n.onTagObj);const d=h?.createNode?h.createNode(n.schema,e,n):new V(e);return t&&(d.tag=t),u&&(u.node=d),d}function q(e,t,n){let r=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=r,r=e}else r=new Map([[n,r]])}return G(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const W=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class Y extends b{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>g(t)||p(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(W(e))this.add(t);else{const[n,...r]=e,s=this.get(n,!0);if(y(s))s.addIn(r,t);else{if(void 0!==s||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,q(this.schema,r,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const r=this.get(t,!0);if(y(r))return r.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...r]=e,s=this.get(n,!0);return 0===r.length?!t&&d(s)?s.value:s:y(s)?s.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!p(t))return!1;const n=t.value;return null==n||e&&d(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const r=this.get(t,!0);return!!y(r)&&r.hasIn(n)}setIn(e,t){const[n,...r]=e;if(0===r.length)this.set(n,t);else{const e=this.get(n,!0);if(y(e))e.setIn(r,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,q(this.schema,r,t))}}}}Y.maxFlowStringSingleLineLength=60;const J=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function z(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const H=(e,t,n)=>e.endsWith("\n")?z(n,t):n.includes("\n")?"\n"+z(n,t):(e.endsWith(" ")?"":" ")+n,Q="flow",X="block",Z="quoted";function ee(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return e;const c=Math.max(1+i,1+s-t.length);if(e.length<=c)return e;const l=[],u={};let f,h,p=s-t.length;"number"==typeof r&&(r>s-Math.max(2,i)?l.push(0):p=s-r);let d=!1,m=-1,y=-1,g=-1;n===X&&(m=te(e,m),-1!==m&&(p=m+c));for(let t;t=e[m+=1];){if(n===Z&&"\\"===t){switch(y=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}g=m}if("\n"===t)n===X&&(m=te(e,m)),p=m+c,f=void 0;else{if(" "===t&&h&&" "!==h&&"\n"!==h&&"\t"!==h){const t=e[m+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=m)}if(m>=p)if(f)l.push(f),p=f+c,f=void 0;else if(n===Z){for(;" "===h||"\t"===h;)h=t,t=e[m+=1],d=!0;const n=m>g+1?m-2:y-1;if(u[n])return e;l.push(n),u[n]=!0,p=n+c,f=void 0}else d=!0}h=t}if(d&&a&&a(),0===l.length)return e;o&&o();let v=e.slice(0,l[0]);for(let r=0;r<l.length;++r){const s=l[r],i=l[r+1]||e.length;0===s?v=`\n${t}${e.slice(0,i)}`:(n===Z&&u[s]&&(v+=`${e[s]}\\`),v+=`\n${t}${e.slice(s+1,i)}`)}return v}function te(e,t){let n=e[t+1];for(;" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t}const ne=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),re=e=>/^(%|---|\.\.\.)/m.test(e);function se(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let t=0,n=0;t<s;++t)if("\n"===e[t]){if(t-n>r)return!0;if(n=t+1,s-n<=r)return!1}return!0}function ie(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(re(e)?"  ":"");let o="",a=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(o+=n.slice(a,e)+"\\ ",e+=1,a=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{o+=n.slice(a,e);const t=n.substr(e+2,4);switch(t){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:"00"===t.substr(0,2)?o+="\\x"+t.substr(2):o+=n.substr(e,6)}e+=5,a=e+1}break;case"n":if(r||'"'===n[e+2]||n.length<s)e+=1;else{for(o+=n.slice(a,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)o+="\n",e+=2;o+=i," "===n[e+2]&&(o+="\\"),e+=1,a=e+1}break;default:e+=1}return o=a?o+n.slice(a):n,r?o:ee(o,i,Z,ne(t))}function oe(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return ie(e,t);const n=t.indent||(re(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?r:ee(r,n,Q,ne(t))}function ae(e,t){const{singleQuote:n}=t.options;let r;if(!1===n)r=ie;else{const t=e.includes('"'),s=e.includes("'");r=t&&!s?oe:s&&!t?ie:n?oe:ie}return r(e,t)}function ce({comment:e,type:t,value:n},r,s,i){const{blockQuote:o,commentString:a,lineWidth:c}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return ae(n,r);const l=r.indent||(r.forceBlockIndent||re(n)?"  ":""),u="literal"===o||"folded"!==o&&t!==V.BLOCK_FOLDED&&(t===V.BLOCK_LITERAL||!se(n,c,l.length));if(!n)return u?"|\n":">\n";let f,h;for(h=n.length;h>0;--h){const e=n[h-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let p=n.substring(h);const d=p.indexOf("\n");-1===d?f="-":n===p||d!==p.length-1?(f="+",i&&i()):f="",p&&(n=n.slice(0,-p.length),"\n"===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${l}`));let m,y=!1,g=-1;for(m=0;m<n.length;++m){const e=n[m];if(" "===e)y=!0;else{if("\n"!==e)break;g=m}}let v=n.substring(0,g<m?g+1:m);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${l}`));let b=(u?"|":">")+(y?l?"2":"1":"")+f;return e&&(b+=" "+a(e.replace(/ ?[\r\n]+/g," ")),s&&s()),u?`${b}\n${l}${v}${n=n.replace(/\n+/g,`$&${l}`)}${p}`:`${b}\n${l}${ee(`${v}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`)}${p}`,l,X,ne(r))}`}function le(e,t,n,r){const{type:s,value:i}=e,{actualString:o,implicitKey:a,indent:c,inFlow:l}=t;if(a&&/[\n[\]{},]/.test(i)||l&&/[[\]{},]/.test(i))return ae(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||l||!i.includes("\n")?ae(i,t):ce(e,t,n,r);if(!a&&!l&&s!==V.PLAIN&&i.includes("\n"))return ce(e,t,n,r);if(""===c&&re(i))return t.forceBlockIndent=!0,ce(e,t,n,r);const u=i.replace(/\n+/g,`$&\n${c}`);if(o){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(u),{compat:n,tags:r}=t.doc.schema;if(r.some(e)||n?.some(e))return ae(i,t)}return a?u:ee(u,c,Q,ne(t))}function ue(e,t,n,r){const{implicitKey:s,inFlow:i}=t,o="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==V.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=V.QUOTE_DOUBLE);const c=e=>{switch(e){case V.BLOCK_FOLDED:case V.BLOCK_LITERAL:return s||i?ae(o.value,t):ce(o,t,n,r);case V.QUOTE_DOUBLE:return ie(o.value,t);case V.QUOTE_SINGLE:return oe(o.value,t);case V.PLAIN:return le(o,t,n,r);default:return null}};let l=c(a);if(null===l){const{defaultKeyType:e,defaultStringType:n}=t.options,r=s&&e||n;if(l=c(r),null===l)throw new Error(`Unsupported default string type ${r}`)}return l}function fe(e,t){const n=Object.assign({blockQuote:!0,commentString:J,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function he(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,r;if(d(t)){r=t.value;const s=e.filter((e=>e.identify?.(r)));n=s.find((e=>e.format===t.format))??s.find((e=>!e.format))}else r=t,n=e.find((e=>e.nodeClass&&r instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${r?.constructor?.name??typeof r} value`);return n}function pe(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(d(e)||y(e))&&e.anchor;i&&C(i)&&(n.add(i),s.push(`&${i}`));const o=e.tag?e.tag:t.default?null:t.tag;return o&&s.push(r.directives.tagString(o)),s.join(" ")}function de(e,t,n,r){if(p(e))return e.toString(t,n,r);if(u(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const i=g(e)?e:t.doc.createNode(e,{onTagObj:e=>s=e});s||(s=he(t.doc.schema.tags,i));const o=pe(i,s,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const a="function"==typeof s.stringify?s.stringify(i,t,n,r):d(i)?ue(i,t,n,r):i.toString(t,n,r);return o?d(i)||"{"===a[0]||"["===a[0]?`${o} ${a}`:`${o}\n${t.indent}${a}`:a}function me({key:e,value:t},n,r,s){const{allNullValues:i,doc:o,indent:a,indentStep:c,options:{commentString:l,indentSeq:u,simpleKeys:f}}=n;let h=g(e)&&e.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(y(e))throw new Error("With simple keys, collection cannot be used as a key value")}let p=!f&&(!e||h&&null==t&&!n.inFlow||y(e)||(d(e)?e.type===V.BLOCK_FOLDED||e.type===V.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(f||!i),indent:a+c});let v=!1,b=!1,w=de(e,n,(()=>v=!0),(()=>b=!0));if(!p&&!n.inFlow&&w.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||null==t)return v&&r&&r(),""===w?"?":p?`? ${w}`:w}else if(i&&!f||null==t&&p)return w=`? ${w}`,h&&!v?w+=H(w,n.indent,l(h)):b&&s&&s(),w;v&&(h=null),p?(h&&(w+=H(w,n.indent,l(h))),w=`? ${w}\n${a}:`):(w=`${w}:`,h&&(w+=H(w,n.indent,l(h))));let _="",O=null;g(t)?(t.spaceBefore&&(_="\n"),t.commentBefore&&(_+=`\n${z(l(t.commentBefore),n.indent)}`),O=t.comment):t&&"object"==typeof t&&(t=o.createNode(t)),n.implicitKey=!1,p||h||!d(t)||(n.indentAtStart=w.length+1),b=!1,u||!(c.length>=2)||n.inFlow||p||!m(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substr(2));let E=!1;const S=de(t,n,(()=>E=!0),(()=>b=!0));let k=" ";return _||h?k=""!==S||n.inFlow?`${_}\n${n.indent}`:"\n"===_?"\n\n":_:!p&&y(t)?("["===S[0]||"{"===S[0])&&!S.includes("\n")||(k=`\n${n.indent}`):""!==S&&"\n"!==S[0]||(k=""),w+=k+S,n.inFlow?E&&r&&r():O&&!E?w+=H(w,n.indent,l(O)):b&&s&&s(),w}function ye(e,t){"debug"!==e&&"warn"!==e||(void 0!==r&&r.emitWarning?r.emitWarning(t):console.warn(t))}const ge="<<";function ve(e,t,{key:n,value:r}){if(e?.doc.schema.merge&&be(n))if(r=u(r)?r.resolve(e.doc):r,m(r))for(const n of r.items)we(e,t,n);else if(Array.isArray(r))for(const n of r)we(e,t,n);else we(e,t,r);else{const s=U(n,"",e);if(t instanceof Map)t.set(s,U(r,s,e));else if(t instanceof Set)t.add(s);else{const i=_e(n,s,e),o=U(r,i,e);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}}return t}const be=e=>e===ge||d(e)&&e.value===ge&&(!e.type||e.type===V.PLAIN);function we(e,t,n){const r=e&&u(n)?n.resolve(e.doc):n;if(!h(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[e,n]of s)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}function _e(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(g(e)&&n&&n.doc){const t=fe(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const r=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(r);e.length>40&&(e=e.substring(0,36)+'..."'),ye(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(t)}function Oe(e,t,n){const r=G(e,void 0,n),s=G(t,void 0,n);return new Ee(r,s)}class Ee{constructor(e,t=null){Object.defineProperty(this,l,{value:o}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return g(t)&&(t=t.clone(e)),g(n)&&(n=n.clone(e)),new Ee(t,n)}toJSON(e,t){return ve(t,t?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?me(this,e,t,n):JSON.stringify(this)}}function Se(e,t,n){return(t.inFlow??e.flow?Ne:ke)(e,t,n)}function ke({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:c,options:{commentString:l}}=n,u=Object.assign({},n,{indent:i,type:null});let f=!1;const h=[];for(let e=0;e<t.length;++e){const s=t[e];let o=null;if(g(s))!f&&s.spaceBefore&&h.push(""),Ae(n,h,s.commentBefore,f),s.comment&&(o=s.comment);else if(p(s)){const e=g(s.key)?s.key:null;e&&(!f&&e.spaceBefore&&h.push(""),Ae(n,h,e.commentBefore,f))}f=!1;let a=de(s,u,(()=>o=null),(()=>f=!0));o&&(a+=H(a,i,l(o))),f&&o&&(f=!1),h.push(r+a)}let d;if(0===h.length)d=s.start+s.end;else{d=h[0];for(let e=1;e<h.length;++e){const t=h[e];d+=t?`\n${c}${t}`:"\n"}}return e?(d+="\n"+z(l(e),c),a&&a()):f&&o&&o(),d}function Ne({comment:e,items:t},n,{flowChars:r,itemIndent:s,onComment:i}){const{indent:o,indentStep:a,options:{commentString:c}}=n;s+=a;const l=Object.assign({},n,{indent:s,inFlow:!0,type:null});let u=!1,f=0;const h=[];for(let e=0;e<t.length;++e){const r=t[e];let i=null;if(g(r))r.spaceBefore&&h.push(""),Ae(n,h,r.commentBefore,!1),r.comment&&(i=r.comment);else if(p(r)){const e=g(r.key)?r.key:null;e&&(e.spaceBefore&&h.push(""),Ae(n,h,e.commentBefore,!1),e.comment&&(u=!0));const t=g(r.value)?r.value:null;t?(t.comment&&(i=t.comment),t.commentBefore&&(u=!0)):null==r.value&&e&&e.comment&&(i=e.comment)}i&&(u=!0);let o=de(r,l,(()=>i=null));e<t.length-1&&(o+=","),i&&(o+=H(o,s,c(i))),!u&&(h.length>f||o.includes("\n"))&&(u=!0),h.push(o),f=h.length}let d;const{start:m,end:y}=r;if(0===h.length)d=m+y;else if(u||(u=h.reduce(((e,t)=>e+t.length+2),2)>Y.maxFlowStringSingleLineLength),u){d=m;for(const e of h)d+=e?`\n${a}${o}${e}`:"\n";d+=`\n${o}${y}`}else d=`${m} ${h.join(" ")} ${y}`;return e&&(d+=H(d,c(e),o),i&&i()),d}function Ae({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const s=z(t(r),e);n.push(s.trimStart())}}function Te(e,t){const n=d(t)?t.value:t;for(const r of e)if(p(r)){if(r.key===t||r.key===n)return r;if(d(r.key)&&r.key.value===n)return r}}class Ie extends Y{constructor(e){super(i,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){let n;n=p(e)?e:e&&"object"==typeof e&&"key"in e?new Ee(e.key,e.value):new Ee(e,e?.value);const r=Te(this.items,n.key),s=this.schema?.sortMapEntries;if(r){if(!t)throw new Error(`Key ${n.key} already set`);d(r.value)&&B(n.value)?r.value.value=n.value:r.value=n.value}else if(s){const e=this.items.findIndex((e=>s(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=Te(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=Te(this.items,e),r=n?.value;return(!t&&d(r)?r.value:r)??void 0}has(e){return!!Te(this.items,e)}set(e,t){this.add(new Ee(e,t),!0)}toJSON(e,t,n){const r=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(r);for(const e of this.items)ve(t,r,e);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!p(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Se(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}function Pe(e,t,n){const{keepUndefined:r,replacer:s}=n,i=new Ie(e),o=(e,o)=>{if("function"==typeof s)o=s.call(t,e,o);else if(Array.isArray(s)&&!s.includes(e))return;(void 0!==o||r)&&i.items.push(Oe(e,o,n))};if(t instanceof Map)for(const[e,n]of t)o(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))o(e,t[e]);return"function"==typeof e.sortMapEntries&&i.items.sort(e.sortMapEntries),i}const xe={collection:"map",createNode:Pe,default:!0,nodeClass:Ie,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(h(e)||t("Expected a mapping for this tag"),e)};class Le extends Y{constructor(e){super(c,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){const t=Ce(e);return"number"==typeof t&&this.items.splice(t,1).length>0}get(e,t){const n=Ce(e);if("number"!=typeof n)return;const r=this.items[n];return!t&&d(r)?r.value:r}has(e){const t=Ce(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=Ce(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[n];d(r)&&B(t)?r.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let r=0;for(const e of this.items)n.push(U(e,String(r++),t));return n}toString(e,t,n){return e?Se(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function Ce(e){let t=d(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}function je(e,t,n){const{replacer:r}=n,s=new Le(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"==typeof r){const n=t instanceof Set?i:String(e++);i=r.call(t,n,i)}s.items.push(G(i,void 0,n))}}return s}const $e={collection:"seq",createNode:je,default:!0,nodeClass:Le,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(m(e)||t("Expected a sequence for this tag"),e)},Me={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,r)=>ue(e,t=Object.assign({actualString:!0},t),n,r)},Re={identify:e=>null==e,createNode:()=>new V(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new V(null),stringify:({source:e},t)=>"string"==typeof e&&Re.test.test(e)?e:t.options.nullStr},De={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new V("t"===e[0]||"T"===e[0]),stringify:({source:e,value:t},n)=>e&&De.test.test(e)&&t===("t"===e[0]||"T"===e[0])?e:t?n.options.trueStr:n.options.falseStr};function Ue({format:e,minFractionDigits:t,tag:n,value:r}){if("bigint"==typeof r)return String(r);const s="number"==typeof r?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let e=i.indexOf(".");e<0&&(e=i.length,i+=".");let n=t-(i.length-e-1);for(;n-- >0;)i+="0"}return i}const Be={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ue},Ve={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ue(e)}},Fe={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new V(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Ue},Ke=e=>"bigint"==typeof e||Number.isInteger(e),Ge=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function qe(e,t,n){const{value:r}=e;return Ke(r)&&r>=0?n+r.toString(t):Ue(e)}const We={identify:e=>Ke(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Ge(e,2,8,n),stringify:e=>qe(e,8,"0o")},Ye={identify:Ke,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Ge(e,0,10,n),stringify:Ue},Je={identify:e=>Ke(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Ge(e,2,16,n),stringify:e=>qe(e,16,"0x")},ze=[xe,$e,Me,Re,De,We,Ye,Je,Be,Ve,Fe];function He(e){return"bigint"==typeof e||Number.isInteger(e)}const Qe=({value:e})=>JSON.stringify(e),Xe=[xe,$e].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Qe},{identify:e=>null==e,createNode:()=>new V(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Qe},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:Qe},{identify:He,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>He(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Qe}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),Ze={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,i){const o=n;let a;if("function"==typeof Buffer)a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<o.length;++t)e+=String.fromCharCode(o[t]);a=btoa(e)}}if(t||(t=V.BLOCK_LITERAL),t!==V.QUOTE_DOUBLE){const e=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),n=Math.ceil(a.length/e),s=new Array(n);for(let t=0,r=0;t<n;++t,r+=e)s[t]=a.substr(r,e);a=s.join(t===V.BLOCK_LITERAL?"\n":" ")}return ue({comment:e,type:t,value:a},r,s,i)}};function et(e,t){if(m(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!p(r)){if(h(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const e=r.items[0]||new Ee(new V(null));if(r.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${r.commentBefore}\n${e.key.commentBefore}`:r.commentBefore),r.comment){const t=e.value??e.key;t.comment=t.comment?`${r.comment}\n${t.comment}`:r.comment}r=e}e.items[n]=p(r)?r:new Ee(r)}}else t("Expected a sequence for this tag");return e}function tt(e,t,n){const{replacer:r}=n,s=new Le(e);s.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let o,a;if("function"==typeof r&&(e=r.call(t,String(i++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);o=e[0],a=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected { key: value } tuple: ${e}`);o=t[0],a=e[o]}else o=e;s.items.push(Oe(o,a,n))}return s}const nt={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:et,createNode:tt};class rt extends Le{constructor(){super(),this.add=Ie.prototype.add.bind(this),this.delete=Ie.prototype.delete.bind(this),this.get=Ie.prototype.get.bind(this),this.has=Ie.prototype.has.bind(this),this.set=Ie.prototype.set.bind(this),this.tag=rt.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let r,s;if(p(e)?(r=U(e.key,"",t),s=U(e.value,r,t)):r=U(e,"",t),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,s)}return n}}rt.tag="tag:yaml.org,2002:omap";const st={collection:"seq",identify:e=>e instanceof Map,nodeClass:rt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=et(e,t),r=[];for(const{key:e}of n.items)d(e)&&(r.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):r.push(e.value));return Object.assign(new rt,n)},createNode(e,t,n){const r=tt(e,t,n),s=new rt;return s.items=r.items,s}};function it({value:e,source:t},n){return t&&(e?ot:at).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const ot={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new V(!0),stringify:it},at={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new V(!1),stringify:it},ct={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ue},lt={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ue(e)}},ut={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new V(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const r=e.substring(n+1).replace(/_/g,"");"0"===r[r.length-1]&&(t.minFractionDigits=r.length)}return t},stringify:Ue},ft=e=>"bigint"==typeof e||Number.isInteger(e);function ht(e,t,n,{intAsBigInt:r}){const s=e[0];if("-"!==s&&"+"!==s||(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===s?BigInt(-1)*t:t}const i=parseInt(e,n);return"-"===s?-1*i:i}function pt(e,t,n){const{value:r}=e;if(ft(r)){const e=r.toString(t);return r<0?"-"+n+e.substr(1):n+e}return Ue(e)}const dt={identify:ft,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>ht(e,2,2,n),stringify:e=>pt(e,2,"0b")},mt={identify:ft,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>ht(e,1,8,n),stringify:e=>pt(e,8,"0")},yt={identify:ft,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>ht(e,0,10,n),stringify:Ue},gt={identify:ft,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>ht(e,2,16,n),stringify:e=>pt(e,16,"0x")};class vt extends Ie{constructor(e){super(e),this.tag=vt.tag}add(e){let t;t=p(e)?e:"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new Ee(e.key,null):new Ee(e,null),Te(this.items,t.key)||this.items.push(t)}get(e,t){const n=Te(this.items,e);return!t&&p(n)?d(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=Te(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Ee(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}vt.tag="tag:yaml.org,2002:set";const bt={collection:"map",identify:e=>e instanceof Set,nodeClass:vt,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(h(e)){if(e.hasAllNullValues(!0))return Object.assign(new vt,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:r}=n,s=new vt(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof r&&(e=r.call(t,e,e)),s.items.push(Oe(e,null,n));return s}};function wt(e,t){const n=e[0],r="-"===n||"+"===n?e.substring(1):e,s=e=>t?BigInt(e):Number(e),i=r.replace(/_/g,"").split(":").reduce(((e,t)=>e*s(60)+s(t)),s(0));return"-"===n?s(-1)*i:i}function _t(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Ue(e);let r="";t<0&&(r="-",t*=n(-1));const s=n(60),i=[t%s];return t<60?i.unshift(0):(t=(t-i[0])/s,i.unshift(t%s),t>=60&&(t=(t-i[0])/s,i.unshift(t))),r+i.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")}const Ot={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>wt(e,n),stringify:_t},Et={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>wt(e,!1),stringify:_t},St={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(St.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,a]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let l=Date.UTC(n,r-1,s,i||0,o||0,a||0,c);const u=t[8];if(u&&"Z"!==u){let e=wt(u,!1);Math.abs(e)<30&&(e*=60),l-=6e4*e}return new Date(l)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},kt=[xe,$e,Me,Re,ot,at,dt,mt,yt,gt,ct,lt,ut,Ze,st,nt,bt,Ot,Et,St],Nt=new Map([["core",ze],["failsafe",[xe,$e,Me]],["json",Xe],["yaml11",kt],["yaml-1.1",kt]]),At={binary:Ze,bool:De,float:Fe,floatExp:Ve,floatNaN:Be,floatTime:Et,int:Ye,intHex:Je,intOct:We,intTime:Ot,map:xe,null:Re,omap:st,pairs:nt,seq:$e,set:bt,timestamp:St},Tt={"tag:yaml.org,2002:binary":Ze,"tag:yaml.org,2002:omap":st,"tag:yaml.org,2002:pairs":nt,"tag:yaml.org,2002:set":bt,"tag:yaml.org,2002:timestamp":St};function It(e,t){let n=Nt.get(t);if(!n){if(!Array.isArray(e)){const e=Array.from(Nt.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}n=[]}if(Array.isArray(e))for(const t of e)n=n.concat(t);else"function"==typeof e&&(n=e(n.slice()));return n.map((e=>{if("string"!=typeof e)return e;const t=At[e];if(t)return t;const n=Object.keys(At).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}const Pt=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class xt{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:r,schema:s,sortMapEntries:o,toStringDefaults:l}){this.compat=Array.isArray(e)?It(e,"compat"):e?It(null,e):null,this.merge=!!n,this.name="string"==typeof s&&s||"core",this.knownTags=r?Tt:{},this.tags=It(t,this.name),this.toStringOptions=l??null,Object.defineProperty(this,i,{value:xe}),Object.defineProperty(this,a,{value:Me}),Object.defineProperty(this,c,{value:$e}),this.sortMapEntries="function"==typeof o?o:!0===o?Pt:null}clone(){const e=Object.create(xt.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Lt(e,t){const n=[];let r=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const s=fe(e,t),{commentString:i}=s.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=i(e.commentBefore);n.unshift(z(t,""))}let o=!1,a=null;if(e.contents){if(g(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const t=i(e.contents.commentBefore);n.push(z(t,""))}s.forceBlockIndent=!!e.comment,a=e.contents.comment}const t=a?void 0:()=>o=!0;let c=de(e.contents,s,(()=>a=null),t);a&&(c+=H(c,"",i(a))),"|"!==c[0]&&">"!==c[0]||"---"!==n[n.length-1]?n.push(c):n[n.length-1]=`--- ${c}`}else n.push(de(e.contents,s));if(e.directives?.docEnd)if(e.comment){const t=i(e.comment);t.includes("\n")?(n.push("..."),n.push(z(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&o&&(t=t.replace(/^\n+/,"")),t&&(o&&!a||""===n[n.length-1]||n.push(""),n.push(z(i(t),"")))}return n.join("\n")+"\n"}function Ct(e,t,n,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let t=0,n=r.length;t<n;++t){const n=r[t],s=Ct(e,r,String(t),n);void 0===s?delete r[t]:s!==n&&(r[t]=s)}else if(r instanceof Map)for(const t of Array.from(r.keys())){const n=r.get(t),s=Ct(e,r,t,n);void 0===s?r.delete(t):s!==n&&r.set(t,s)}else if(r instanceof Set)for(const t of Array.from(r)){const n=Ct(e,r,t,t);void 0===n?r.delete(t):n!==t&&(r.delete(t),r.add(n))}else for(const[t,n]of Object.entries(r)){const s=Ct(e,r,t,n);void 0===s?delete r[t]:s!==n&&(r[t]=s)}return e.call(t,n,r)}class jt{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,l,{value:s});let r=null;"function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t,t=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=i;let{version:o}=i;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new L({version:o}),this.setSchema(o,n),this.contents=void 0===e?null:this.createNode(e,r,n)}clone(){const e=Object.create(jt.prototype,{[l]:{value:s}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=g(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){$t(this.contents)&&this.contents.add(e)}addIn(e,t){$t(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=j(this);e.anchor=!t||n.has(t)?$(t||"a",n):t}return new R(e.anchor)}createNode(e,t,n){let r;if("function"==typeof t)e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),r=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:s,anchorPrefix:i,flow:o,keepUndefined:a,onTagObj:c,tag:l}=n??{},{onAnchor:u,setAnchors:f,sourceObjects:h}=M(this,i||"a"),p=G(e,l,{aliasDuplicateObjects:s??!0,keepUndefined:a??!1,onAnchor:u,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:h});return o&&y(p)&&(p.flow=!0),f(),p}createPair(e,t,n={}){const r=this.createNode(e,null,n),s=this.createNode(t,null,n);return new Ee(r,s)}delete(e){return!!$t(this.contents)&&this.contents.delete(e)}deleteIn(e){return W(e)?null!=this.contents&&(this.contents=null,!0):!!$t(this.contents)&&this.contents.deleteIn(e)}get(e,t){return y(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return W(e)?!t&&d(this.contents)?this.contents.value:this.contents:y(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!y(this.contents)&&this.contents.has(e)}hasIn(e){return W(e)?void 0!==this.contents:!!y(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=q(this.schema,[e],t):$t(this.contents)&&this.contents.set(e,t)}setIn(e,t){W(e)?this.contents=t:null==this.contents?this.contents=q(this.schema,Array.from(e),t):$t(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new L({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new L({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new xt(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){const o={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100,stringify:de},a=U(this.contents,t??"",o);if("function"==typeof s)for(const{count:e,res:t}of o.anchors.values())s(t,e);return"function"==typeof i?Ct(i,{"":a},"",a):a}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return Lt(this,e)}}function $t(e){if(y(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Mt extends Error{constructor(e,t,n,r){super(),this.name=e,this.code=n,this.message=r,this.pos=t}}class Rt extends Mt{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Dt extends Mt{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Ut=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const e=Math.min(i-39,o.length-79);o="…"+o.substring(e),i-=e-1}if(o.length>80&&(o=o.substring(0,79)+"…"),r>1&&/^ *$/.test(o.substring(0,i))){let n=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);n.length>80&&(n=n.substring(0,79)+"…\n"),o=n+o}if(/[^ ]/.test(o)){let e=1;const t=n.linePos[1];t&&t.line===r&&t.col>s&&(e=Math.min(t.col-s,80-i));const a=" ".repeat(i)+"^".repeat(e);n.message+=`:\n\n${o}\n${a}\n`}};function Bt(e,{flow:t,indicator:n,next:r,offset:s,onError:i,startOnNewline:o}){let a=!1,c=o,l=o,u="",f="",h=!1,p=!1,d=!1,m=null,y=null,g=null,v=null,b=null;for(const r of e)switch(d&&("space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),d=!1),r.type){case"space":!t&&c&&"doc-start"!==n&&"\t"===r.source[0]&&i(r,"TAB_AS_INDENT","Tabs are not allowed as indentation"),l=!0;break;case"comment":{l||i(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=r.source.substring(1)||" ";u?u+=f+e:u=e,f="",c=!1;break}case"newline":c?u?u+=r.source:a=!0:f+=r.source,c=!0,h=!0,(m||y)&&(p=!0),l=!0;break;case"anchor":m&&i(r,"MULTIPLE_ANCHORS","A node can have at most one anchor"),r.source.endsWith(":")&&i(r.offset+r.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=r,null===b&&(b=r.offset),c=!1,l=!1,d=!0;break;case"tag":y&&i(r,"MULTIPLE_TAGS","A node can have at most one tag"),y=r,null===b&&(b=r.offset),c=!1,l=!1,d=!0;break;case n:(m||y)&&i(r,"BAD_PROP_ORDER",`Anchors and tags must be after the ${r.source} indicator`),v&&i(r,"UNEXPECTED_TOKEN",`Unexpected ${r.source} in ${t??"collection"}`),v=r,c=!1,l=!1;break;case"comma":if(t){g&&i(r,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),g=r,c=!1,l=!1;break}default:i(r,"UNEXPECTED_TOKEN",`Unexpected ${r.type} token`),c=!1,l=!1}const w=e[e.length-1],_=w?w.offset+w.source.length:s;return d&&r&&"space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&("scalar"!==r.type||""!==r.source)&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:g,found:v,spaceBefore:a,comment:u,hasNewline:h,hasNewlineAfterProp:p,anchor:m,tag:y,end:_,start:b??_}}function Vt(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(Vt(t.key)||Vt(t.value))return!0}return!1;default:return!0}}function Ft(e,t,n){if("flow-collection"===t?.type){const r=t.end[0];r.indent!==e||"]"!==r.source&&"}"!==r.source||!Vt(t)||n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Kt(e,t,n){const{uniqueKeys:r}=e.options;if(!1===r)return!1;const s="function"==typeof r?r:(t,n)=>t===n||d(t)&&d(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge);return t.some((e=>s(e.key,n)))}const Gt="All mapping items must start at the same column";function qt({composeNode:e,composeEmptyNode:t},n,r,s){const i=new Ie(n.schema);n.atRoot&&(n.atRoot=!1);let o=r.offset;for(const a of r.items){const{start:c,key:l,sep:u,value:f}=a,h=Bt(c,{indicator:"explicit-key-ind",next:l??u?.[0],offset:o,onError:s,startOnNewline:!0}),p=!h.found;if(p){if(l&&("block-seq"===l.type?s(o,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in l&&l.indent!==r.indent&&s(o,"BAD_INDENT",Gt)),!h.anchor&&!h.tag&&!u){h.comment&&(i.comment?i.comment+="\n"+h.comment:i.comment=h.comment);continue}(h.hasNewlineAfterProp||Vt(l))&&s(l??c[c.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else h.found?.indent!==r.indent&&s(o,"BAD_INDENT",Gt);const d=h.end,m=l?e(n,l,h,s):t(n,d,c,null,h,s);n.schema.compat&&Ft(r.indent,l,s),Kt(n,i.items,m)&&s(d,"DUPLICATE_KEY","Map keys must be unique");const y=Bt(u??[],{indicator:"map-value-ind",next:f,offset:m.range[2],onError:s,startOnNewline:!l||"block-scalar"===l.type});if(o=y.end,y.found){p&&("block-map"!==f?.type||y.hasNewline||s(o,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&h.start<y.found.offset-1024&&s(m.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const c=f?e(n,f,y,s):t(n,o,u,null,y,s);n.schema.compat&&Ft(r.indent,f,s),o=c.range[2];const l=new Ee(m,c);n.options.keepSourceTokens&&(l.srcToken=a),i.items.push(l)}else{p&&s(m.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),y.comment&&(m.comment?m.comment+="\n"+y.comment:m.comment=y.comment);const e=new Ee(m);n.options.keepSourceTokens&&(e.srcToken=a),i.items.push(e)}}return i.range=[r.offset,o,o],i}function Wt({composeNode:e,composeEmptyNode:t},n,r,s){const i=new Le(n.schema);n.atRoot&&(n.atRoot=!1);let o=r.offset;for(const{start:a,value:c}of r.items){const l=Bt(a,{indicator:"seq-item-ind",next:c,offset:o,onError:s,startOnNewline:!0});if(o=l.end,!l.found){if(!(l.anchor||l.tag||c)){l.comment&&(i.comment=l.comment);continue}c&&"block-seq"===c.type?s(o,"BAD_INDENT","All sequence items must start at the same column"):s(o,"MISSING_CHAR","Sequence item without - indicator")}const u=c?e(n,c,l,s):t(n,o,a,null,l,s);n.schema.compat&&Ft(r.indent,c,s),o=u.range[2],i.items.push(u)}return i.range=[r.offset,o,o],i}function Yt(e,t,n,r){let s="";if(e){let i=!1,o="";for(const a of e){const{source:e,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";s?s+=o+t:s=t,o="";break}case"newline":s&&(o+=e),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:s,offset:t}}const Jt="Block collections are not allowed within flow collections",zt=e=>e&&("block-map"===e.type||"block-seq"===e.type);function Ht({composeNode:e,composeEmptyNode:t},n,r,s){const i="{"===r.start.source,o=i?"flow map":"flow sequence",a=i?new Ie(n.schema):new Le(n.schema);a.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1);let l=r.offset+r.start.source.length;for(let c=0;c<r.items.length;++c){const u=r.items[c],{start:f,key:h,sep:d,value:m}=u,y=Bt(f,{flow:o,indicator:"explicit-key-ind",next:h??d?.[0],offset:l,onError:s,startOnNewline:!1});if(!y.found){if(!(y.anchor||y.tag||d||m)){0===c&&y.comma?s(y.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):c<r.items.length-1&&s(y.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),y.comment&&(a.comment?a.comment+="\n"+y.comment:a.comment=y.comment),l=y.end;continue}!i&&n.options.strict&&Vt(h)&&s(h,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===c)y.comma&&s(y.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(y.comma||s(y.start,"MISSING_CHAR",`Missing , between ${o} items`),y.comment){let e="";e:for(const t of f)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=a.items[a.items.length-1];p(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,y.comment=y.comment.substring(e.length+1)}}if(i||d||y.found){const r=y.end,c=h?e(n,h,y,s):t(n,r,f,null,y,s);zt(h)&&s(c.range,"BLOCK_IN_FLOW",Jt);const p=Bt(d??[],{flow:o,indicator:"map-value-ind",next:m,offset:c.range[2],onError:s,startOnNewline:!1});if(p.found){if(!i&&!y.found&&n.options.strict){if(d)for(const e of d){if(e===p.found)break;if("newline"===e.type){s(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}y.start<p.found.offset-1024&&s(p.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else m&&("source"in m&&m.source&&":"===m.source[0]?s(m,"MISSING_CHAR",`Missing space after : in ${o}`):s(p.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const g=m?e(n,m,p,s):p.found?t(n,p.end,d,null,p,s):null;g?zt(m)&&s(g.range,"BLOCK_IN_FLOW",Jt):p.comment&&(c.comment?c.comment+="\n"+p.comment:c.comment=p.comment);const v=new Ee(c,g);if(n.options.keepSourceTokens&&(v.srcToken=u),i){const e=a;Kt(n,e.items,c)&&s(r,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(v)}else{const e=new Ie(n.schema);e.flow=!0,e.items.push(v),a.items.push(e)}l=g?g.range[2]:p.end}else{const r=m?e(n,m,y,s):t(n,y.end,d,null,y,s);a.items.push(r),l=r.range[2],zt(m)&&s(r.range,"BLOCK_IN_FLOW",Jt)}}const u=i?"}":"]",[f,...h]=r.end;let d=l;if(f&&f.source===u)d=f.offset+f.source.length;else{const e=o[0].toUpperCase()+o.substring(1);s(l,c?"MISSING_CHAR":"BAD_INDENT",c?`${e} must end with a ${u}`:`${e} in block collection must be sufficiently indented and end with a ${u}`),f&&1!==f.source.length&&h.unshift(f)}if(h.length>0){const e=Yt(h,d,n.options.strict,s);e.comment&&(a.comment?a.comment+="\n"+e.comment:a.comment=e.comment),a.range=[r.offset,d,e.offset]}else a.range=[r.offset,d,d];return a}function Qt(e,t,n,r,s){let i;switch(n.type){case"block-map":i=qt(e,t,n,s);break;case"block-seq":i=Wt(e,t,n,s);break;case"flow-collection":i=Ht(e,t,n,s)}if(!r)return i;const o=t.directives.tagName(r.source,(e=>s(r,"TAG_RESOLVE_FAILED",e)));if(!o)return i;const a=i.constructor;if("!"===o||o===a.tagName)return i.tag=a.tagName,i;const c=h(i)?"map":"seq";let l=t.schema.tags.find((e=>e.collection===c&&e.tag===o));if(!l){const e=t.schema.knownTags[o];if(!e||e.collection!==c)return s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),i.tag=o,i;t.schema.tags.push(Object.assign({},e,{default:!1})),l=e}const u=l.resolve(i,(e=>s(r,"TAG_RESOLVE_FAILED",e)),t.options),f=g(u)?u:new V(u);return f.range=i.range,f.tag=o,l?.format&&(f.format=l.format),f}function Xt(e,t,n){const r=e.offset,s=Zt(e,t,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=">"===s.mode?V.BLOCK_FOLDED:V.BLOCK_LITERAL,o=e.source?en(e.source):[];let a=o.length;for(let e=o.length-1;e>=0;--e){const t=o[e][1];if(""!==t&&"\r"!==t)break;a=e}if(0===a){const t="+"===s.chomp&&o.length>0?"\n".repeat(Math.max(1,o.length-1)):"";let n=r+s.length;return e.source&&(n+=e.source.length),{value:t,type:i,comment:s.comment,range:[r,n,n]}}let c=e.indent+s.indent,l=e.offset+s.length,u=0;for(let e=0;e<a;++e){const[t,r]=o[e];if(""!==r&&"\r"!==r){if(t.length<c){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(l+t.length,"MISSING_CHAR",e)}0===s.indent&&(c=t.length),u=e;break}0===s.indent&&t.length>c&&(c=t.length),l+=t.length+r.length+1}for(let e=o.length-1;e>=a;--e)o[e][0].length>c&&(a=e+1);let f="",h="",p=!1;for(let e=0;e<u;++e)f+=o[e][0].slice(c)+"\n";for(let e=u;e<a;++e){let[t,r]=o[e];l+=t.length+r.length+1;const a="\r"===r[r.length-1];if(a&&(r=r.slice(0,-1)),r&&t.length<c){const e="Block scalar lines must not be less indented than their "+(s.indent?"explicit indentation indicator":"first line");n(l-r.length-(a?2:1),"BAD_INDENT",e),t=""}i===V.BLOCK_LITERAL?(f+=h+t.slice(c)+r,h="\n"):t.length>c||"\t"===r[0]?(" "===h?h="\n":p||"\n"!==h||(h="\n\n"),f+=h+t.slice(c)+r,h="\n",p=!0):""===r?"\n"===h?f+="\n":h="\n":(f+=h+r,h=" ",p=!1)}switch(s.chomp){case"-":break;case"+":for(let e=a;e<o.length;++e)f+="\n"+o[e][0].slice(c);"\n"!==f[f.length-1]&&(f+="\n");break;default:f+="\n"}const d=r+s.length+e.source.length;return{value:f,type:i,comment:s.comment,range:[r,d,d]}}function Zt({offset:e,props:t},n,r){if("block-scalar-header"!==t[0].type)return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=t[0],i=s[0];let o=0,a="",c=-1;for(let t=1;t<s.length;++t){const n=s[t];if(a||"-"!==n&&"+"!==n){const r=Number(n);!o&&r?o=r:-1===c&&(c=e+t)}else a=n}-1!==c&&r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let l=!1,u="",f=s.length;for(let e=1;e<t.length;++e){const s=t[e];switch(s.type){case"space":l=!0;case"newline":f+=s.source.length;break;case"comment":n&&!l&&r(s,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=s.source.length,u=s.source.substring(1);break;case"error":r(s,"UNEXPECTED_TOKEN",s.message),f+=s.source.length;break;default:{r(s,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${s.type}`);const e=s.source;e&&"string"==typeof e&&(f+=e.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:f}}function en(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)s.push([t[e],t[e+1]]);return s}function tn(e,t,n){const{offset:r,type:s,source:i,end:o}=e;let a,c;const l=(e,t,s)=>n(r+e,t,s);switch(s){case"scalar":a=V.PLAIN,c=nn(i,l);break;case"single-quoted-scalar":a=V.QUOTE_SINGLE,c=rn(i,l);break;case"double-quoted-scalar":a=V.QUOTE_DOUBLE,c=on(i,l);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const u=r+i.length,f=Yt(o,u,t,n);return{value:c,type:a,comment:f.comment,range:[r,u,f.offset]}}function nn(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),sn(e)}function rn(e,t){return"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote"),sn(e.slice(1,-1)).replace(/''/g,"'")}function sn(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],i=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)""===r[1]?"\n"===i?s+=i:i="\n":(s+=i+r[1],i=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(e),s+i+(r?.[1]??"")}function on(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if("\r"!==s||"\n"!==e[r+1])if("\n"===s){const{fold:t,offset:s}=an(e,r);n+=t,r=s}else if("\\"===s){let s=e[++r];const i=cn[s];if(i)n+=i;else if("\n"===s)for(s=e[r+1];" "===s||"\t"===s;)s=e[1+ ++r];else if("\r"===s&&"\n"===e[r+1])for(s=e[1+ ++r];" "===s||"\t"===s;)s=e[1+ ++r];else if("x"===s||"u"===s||"U"===s){const i={x:2,u:4,U:8}[s];n+=ln(e,r+1,i,t),r+=i}else{const s=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),n+=s}}else if(" "===s||"\t"===s){const t=r;let i=e[r+1];for(;" "===i||"\t"===i;)i=e[1+ ++r];"\n"===i||"\r"===i&&"\n"===e[r+2]||(n+=r>t?e.slice(t,r+1):s)}else n+=s}return'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function an(e,t){let n="",r=e[t+1];for(;!(" "!==r&&"\t"!==r&&"\n"!==r&&"\r"!==r||"\r"===r&&"\n"!==e[t+2]);)"\n"===r&&(n+="\n"),r=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const cn={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function ln(e,t,n,r){const s=e.substr(t,n),i=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(i)){const s=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`),s}return String.fromCodePoint(i)}function un(e,t,n,r){const{value:s,type:i,comment:o,range:c}="block-scalar"===t.type?Xt(t,e.options.strict,r):tn(t,e.options.strict,r),l=n?e.directives.tagName(n.source,(e=>r(n,"TAG_RESOLVE_FAILED",e))):null,u=n&&l?fn(e.schema,s,l,n,r):"scalar"===t.type?hn(e,s,t,r):e.schema[a];let f;try{const i=u.resolve(s,(e=>r(n??t,"TAG_RESOLVE_FAILED",e)),e.options);f=d(i)?i:new V(i)}catch(e){const i=e instanceof Error?e.message:String(e);r(n??t,"TAG_RESOLVE_FAILED",i),f=new V(s)}return f.range=c,f.source=s,i&&(f.type=i),l&&(f.tag=l),u.format&&(f.format=u.format),o&&(f.comment=o),f}function fn(e,t,n,r,s){if("!"===n)return e[a];const i=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;i.push(t)}for(const e of i)if(e.test?.test(t))return e;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[a])}function hn({directives:e,schema:t},n,r,s){const i=t.tags.find((e=>e.default&&e.test?.test(n)))||t[a];if(t.compat){const o=t.compat.find((e=>e.default&&e.test?.test(n)))??t[a];i.tag!==o.tag&&s(r,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${e.tagString(i.tag)} or ${e.tagString(o.tag)}`,!0)}return i}function pn(e,t,n){if(t){null===n&&(n=t.length);for(let r=n-1;r>=0;--r){let n=t[r];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++r];"space"===n?.type;)e+=n.source.length,n=t[++r];break}}return e}const dn={composeNode:mn,composeEmptyNode:yn};function mn(e,t,n,r){const{spaceBefore:s,comment:i,anchor:o,tag:a}=n;let c,l=!0;switch(t.type){case"alias":c=gn(e,t,r),(o||a)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=un(e,t,a,r),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=Qt(dn,e,t,a,r),o&&(c.anchor=o.source.substring(1));break;default:r(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),c=yn(e,t.offset,void 0,null,n,r),l=!1}return o&&""===c.anchor&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),s&&(c.spaceBefore=!0),i&&("scalar"===t.type&&""===t.source?c.comment=i:c.commentBefore=i),e.options.keepSourceTokens&&l&&(c.srcToken=t),c}function yn(e,t,n,r,{spaceBefore:s,comment:i,anchor:o,tag:a},c){const l=un(e,{type:"scalar",offset:pn(t,n,r),indent:-1,source:""},a,c);return o&&(l.anchor=o.source.substring(1),""===l.anchor&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(l.spaceBefore=!0),i&&(l.comment=i),l}function gn({options:e},{offset:t,source:n,end:r},s){const i=new R(n.substring(1));""===i.source&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,a=Yt(r,o,e.strict,s);return i.range=[t,o,a.offset],a.comment&&(i.comment=a.comment),i}function vn(e,t,{offset:n,start:r,value:s,end:i},o){const a=Object.assign({_directives:t},e),c=new jt(void 0,a),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=Bt(r,{indicator:"doc-start",next:s??i?.[0],offset:n,onError:o,startOnNewline:!0});u.found&&(c.directives.docStart=!0,!s||"block-map"!==s.type&&"block-seq"!==s.type||u.hasNewline||o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=s?mn(l,s,u,o):yn(l,u.end,r,null,u,o);const f=c.contents.range[2],h=Yt(i,f,!1,o);return h.comment&&(c.comment=h.comment),c.range=[n,f,h.offset],c}function bn(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function wn(e){let t="",n=!1,r=!1;for(let s=0;s<e.length;++s){const i=e[s];switch(i[0]){case"#":t+=(""===t?"":r?"\n\n":"\n")+(i.substring(1)||" "),n=!0,r=!1;break;case"%":"#"!==e[s+1]?.[0]&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class _n{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,r)=>{const s=bn(e);r?this.warnings.push(new Dt(s,t,n)):this.errors.push(new Rt(s,t,n))},this.directives=new L({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:r}=wn(this.prelude);if(n){const s=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(r||e.directives.docStart||!s)e.commentBefore=n;else if(y(s)&&!s.flow&&s.items.length>0){let e=s.items[0];p(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=s.commentBefore;s.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:wn(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,((t,n,r)=>{const s=bn(e);s[0]+=t,this.onError(s,"BAD_DIRECTIVE",n,r)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=vn(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Rt(bn(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new Rt(bn(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=Yt(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Rt(bn(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new jt(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function On(e,t=!0,n){if(e){const r=(e,t,r)=>{const s="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new Rt([s,s+1],t,r);n(s,t,r)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return tn(e,t,r);case"block-scalar":return Xt(e,t,r)}}return null}function En(e,t){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:i=-1,type:o="PLAIN"}=t,a=ue({type:o,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),c=t.end??[{type:"newline",offset:-1,indent:r,source:"\n"}];switch(a[0]){case"|":case">":{const e=a.indexOf("\n"),t=a.substring(0,e),n=a.substring(e+1)+"\n",s=[{type:"block-scalar-header",offset:i,indent:r,source:t}];return Nn(s,c)||s.push({type:"newline",offset:-1,indent:r,source:"\n"}),{type:"block-scalar",offset:i,indent:r,props:s,source:n}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:a,end:c};default:return{type:"scalar",offset:i,indent:r,source:a,end:c}}}function Sn(e,t,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:i=!1,type:o}=n,a="indent"in e?e.indent:null;if(r&&"number"==typeof a&&(a+=2),!o)switch(e.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");o=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const c=ue({type:o,value:t},{implicitKey:s||null===a,indent:null!==a&&a>0?" ".repeat(a):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":kn(e,c);break;case'"':An(e,c,"double-quoted-scalar");break;case"'":An(e,c,"single-quoted-scalar");break;default:An(e,c,"scalar")}}function kn(e,t){const n=t.indexOf("\n"),r=t.substring(0,n),s=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=r,e.source=s}else{const{offset:t}=e,n="indent"in e?e.indent:-1,i=[{type:"block-scalar-header",offset:t,indent:n,source:r}];Nn(i,"end"in e?e.end:void 0)||i.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:"block-scalar",indent:n,props:i,source:s})}}function Nn(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function An(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let s=t.length;"block-scalar-header"===e.props[0].type&&(s-=e.props[0].source.length);for(const e of r)e.offset+=s;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const r={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[r]});break}default:{const r="indent"in e?e.indent:-1,s="end"in e&&Array.isArray(e.end)?e.end.filter((e=>"space"===e.type||"comment"===e.type||"newline"===e.type)):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:r,source:t,end:s})}}}const Tn=e=>"type"in e?In(e):Pn(e);function In(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=In(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=Pn(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=Pn(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=Pn(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function Pn({start:e,key:t,sep:n,value:r}){let s="";for(const t of e)s+=t.source;if(t&&(s+=In(t)),n)for(const e of n)s+=e.source;return r&&(s+=In(r)),s}const xn=Symbol("break visit"),Ln=Symbol("skip children"),Cn=Symbol("remove item");function jn(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),$n(Object.freeze([]),e,t)}function $n(e,t,n){let r=n(t,e);if("symbol"==typeof r)return r;for(const s of["key","value"]){const i=t[s];if(i&&"items"in i){for(let t=0;t<i.items.length;++t){const r=$n(Object.freeze(e.concat([[s,t]])),i.items[t],n);if("number"==typeof r)t=r-1;else{if(r===xn)return xn;r===Cn&&(i.items.splice(t,1),t-=1)}}"function"==typeof r&&"key"===s&&(r=r(t,e))}}return"function"==typeof r?r(t,e):r}jn.BREAK=xn,jn.SKIP=Ln,jn.REMOVE=Cn,jn.itemAtPath=(e,t)=>{let n=e;for(const[e,r]of t){const t=n?.[e];if(!t||!("items"in t))return;n=t.items[r]}return n},jn.parentCollection=(e,t)=>{const n=jn.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],s=n?.[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};const Mn="\ufeff",Rn="",Dn="",Un="",Bn=e=>!!e&&"items"in e,Vn=e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type);function Fn(e){switch(e){case Mn:return"<BOM>";case Rn:return"<DOC>";case Dn:return"<FLOW_END>";case Un:return"<SCALAR>";default:return JSON.stringify(e)}}function Kn(e){switch(e){case Mn:return"byte-order-mark";case Rn:return"doc-mode";case Dn:return"flow-error-end";case Un:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}var Gn=Object.freeze({__proto__:null,BOM:Mn,DOCUMENT:Rn,FLOW_END:Dn,SCALAR:Un,isCollection:Bn,isScalar:Vn,prettyToken:Fn,tokenType:Kn,createScalarToken:En,resolveAsScalar:On,setScalarValue:Sn,stringify:Tn,visit:jn});function qn(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const Wn="0123456789ABCDEFabcdef".split(""),Yn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),Jn=",[]{}".split(""),zn=" ,[]{}\n\r\t".split(""),Hn=e=>!e||zn.includes(e);class Qn{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&qn(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===Mn&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length;const n=e.indexOf("#");if(-1!==n){const r=e[n-1];" "!==r&&"\t"!==r||(t=n-1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield Rn,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if("---"===e&&qn(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&qn(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!qn(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&qn(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Hn),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const r=this.getLine();if(null===r)return this.setNext("flow");if((-1!==n&&n<this.indentNext&&"#"!==r[0]||0===n&&(r.startsWith("---")||r.startsWith("..."))&&qn(r[3]))&&(n!==this.indentNext-1||1!==this.flowLevel||"]"!==r[0]&&"}"!==r[0]))return this.flowLevel=0,yield Dn,yield*this.parseLineStart();let s=0;for(;","===r[s];)s+=(yield*this.pushCount(1)),s+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(s+=(yield*this.pushIndicators()),r[s]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Hn),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||qn(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let r=n.indexOf("\n",this.pos);if(-1!==r){for(;-1!==r;){const e=this.continueScalar(r+1);if(-1===e)break;r=n.indexOf("\n",e)}-1!==r&&(t=r-("\r"===n[r-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>qn(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let r=this.pos;e=this.buffer[r];++r)switch(e){case" ":n+=1;break;case"\n":t=r,n=0;break;case"\r":{const e=this.buffer[r+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let e=t-1,r=this.buffer[e];"\r"===r&&(r=this.buffer[--e]);const s=e;for(;" "===r||"\t"===r;)r=this.buffer[--e];if(!("\n"===r&&e>=this.pos&&e+1+n>s))break;t=e}return yield Un,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,r=this.pos-1;for(;t=this.buffer[++r];)if(":"===t){const t=this.buffer[r+1];if(qn(t)||e&&","===t)break;n=r}else if(qn(t)){let s=this.buffer[r+1];if("\r"===t&&("\n"===s?(r+=1,t="\n",s=this.buffer[r+1]):n=r),"#"===s||e&&Jn.includes(s))break;if("\n"===t){const e=this.continueScalar(r+1);if(-1===e)break;r=Math.max(r,e-2)}}else{if(e&&Jn.includes(t))break;n=r}return t||this.atEnd?(yield Un,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Hn))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(qn(t)||e&&Jn.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!qn(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(Yn.includes(t))t=this.buffer[++e];else{if("%"!==t||!Wn.includes(this.buffer[e+1])||!Wn.includes(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Xn{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const r=t+n>>1;this.lineStarts[r]<e?t=r+1:n=r}return this.lineStarts[t]===e?{line:t+1,col:1}:0===t?{line:0,col:e}:{line:t,col:e-this.lineStarts[t-1]+1}}}}function Zn(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function er(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function tr(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function nr(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function rr(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function sr(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||Zn(t.start,"explicit-key-ind")||Zn(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,tr(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class ir{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Qn,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=Kn(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&sr(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!Zn(n.start,"explicit-key-ind"));n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===er(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==er(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=rr(nr(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0,r=Array.isArray(n)?n[n.length-1]:void 0;"comment"===r?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],r=n?.value?.end;if(Array.isArray(r))return Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent&&t.sep;let r=[];if(n&&t.sep&&!t.value){const n=[];for(let r=0;r<t.sep.length;++r){const s=t.sep[r];switch(s.type){case"newline":n.push(r);break;case"space":break;case"comment":s.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(r=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(n||t.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||Zn(t.start,"explicit-key-ind")?n||t.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):t.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(Zn(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Zn(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(tr(t.key)&&!Zn(t.sep,"newline")){const e=rr(t.start),n=t.key,r=t.sep;r.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:r}]})}else r.length>0?t.sep=t.sep.concat(r,this.sourceToken):t.sep.push(this.sourceToken);else if(Zn(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=rr(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||n?e.items.push({start:r,key:null,sep:[this.sourceToken]}):Zn(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);return void(n||t.value?(e.items.push({start:r,key:s,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(s):(Object.assign(t,{key:s,sep:[]}),this.onKeyLine=!0))}default:{const s=this.startBlockValue(e);if(s)return n&&"block-seq"!==s.type&&Zn(t.start,"explicit-key-ind")&&e.items.push({start:r}),void this.stack.push(s)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0,r=Array.isArray(n)?n[n.length-1]:void 0;"comment"===r?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],r=n?.value?.end;if(Array.isArray(r))return Array.prototype.push.apply(r,t.start),r.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||Zn(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=rr(nr(t));sr(e);const r=e.end.splice(1,e.end.length);r.push(this.sourceToken);const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=rr(nr(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]}}case"map-value-ind":{this.onKeyLine=!0;const t=rr(nr(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function or(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new Xn||null,prettyErrors:t}}function ar(e,t={}){const{lineCounter:n,prettyErrors:r}=or(t),s=new ir(n?.addNewLine),i=new _n(t),o=Array.from(i.compose(s.parse(e)));if(r&&n)for(const t of o)t.errors.forEach(Ut(e,n)),t.warnings.forEach(Ut(e,n));return o.length>0?o:Object.assign([],{empty:!0},i.streamInfo())}function cr(e,t={}){const{lineCounter:n,prettyErrors:r}=or(t),s=new ir(n?.addNewLine),i=new _n(t);let o=null;for(const t of i.compose(s.parse(e),!0,e.length))if(o){if("silent"!==o.options.logLevel){o.errors.push(new Rt(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else o=t;return r&&n&&(o.errors.forEach(Ut(e,n)),o.warnings.forEach(Ut(e,n))),o}function lr(e,t,n){let r;"function"==typeof t?r=t:void 0===n&&t&&"object"==typeof t&&(n=t);const s=cr(e,n);if(!s)return null;if(s.warnings.forEach((e=>ye(s.options.logLevel,e))),s.errors.length>0){if("silent"!==s.options.logLevel)throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function ur(e,t,n){let r=null;if("function"==typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=n??t??{};if(!e)return}return new jt(e,r,n).toString(n)}var fr=Object.freeze({__proto__:null,CST:Gn,Composer:_n,Document:jt,Schema:xt,YAMLError:Mt,YAMLParseError:Rt,YAMLWarning:Dt,Alias:R,isAlias:u,isCollection:y,isDocument:f,isMap:h,isNode:g,isPair:p,isScalar:d,isSeq:m,Pair:Ee,Scalar:V,YAMLMap:Ie,YAMLSeq:Le,Lexer:Qn,LineCounter:Xn,Parser:ir,parse:lr,parseAllDocuments:ar,parseDocument:cr,stringify:ur,visit:E,visitAsync:k});const hr={fs:Symbol("fileSystem"),root:Symbol("DocRoot")};var pr=(e=>(e[e.Unknown=0]="Unknown",e[e.Scalar=1]="Scalar",e[e.Pair=2]="Pair",e[e.Map=3]="Map",e[e.Seq=4]="Seq",e[e.Document=5]="Document",e))(pr||{}),dr=(e=>(e[e.Unknown=100]="Unknown",e[e.Action=101]="Action",e[e.Component=102]="Component",e[e.Emit=103]="Emit",e[e.Goto=104]="Goto",e[e.If=105]="If",e[e.Style=106]="Style",e[e.BuiltInFn=107]="BuiltInFn",e))(dr||{}),mr=(e=>(e[e.Visited=0]="Visited",e[e.Pending=1]="Pending",e[e.Error=2]="Error",e))(mr||{}),yr=Object.defineProperty,gr=Object.defineProperties,vr=Object.getOwnPropertyDescriptors,br=Object.getOwnPropertySymbols,wr=Object.prototype.hasOwnProperty,_r=Object.prototype.propertyIsEnumerable,Or=(e,t,n)=>t in e?yr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Er=(e,t)=>{for(var n in t||(t={}))wr.call(t,n)&&Or(e,n,t[n]);if(br)for(var n of br(t))_r.call(t,n)&&Or(e,n,t[n]);return e},Sr=(e,t)=>gr(e,vr(t));function kr(e){if("function"==typeof e){const t=e();return kr.call(this,Sr(Er({},t),{readFile:t.readFileSync,readdir:t.readdirSync,writeFile:t.writeFileSync}))}let t=null==e?void 0:e.existsSync,n=null==e?void 0:e.isAbsolute,r=null==e?void 0:e.readFile,s=null==e?void 0:e.writeFile,i=null==e?void 0:e.readJson,o=null==e?void 0:e.writeJson,a=null==e?void 0:e.readdir,c=null==e?void 0:e.parseFilePath;function l(e){return e.startsWith("file:")||e.startsWith("/")||/^[a-zA-Z]{1,3}:\//i.test(e)&&!e.startsWith("http")&&!e.startsWith("ws:")||n(e)}function u(e){return e=c?c(e).base:e.includes("/")?e.substring(e.lastIndexOf("/")+1):e}function f(e){if(l(e)){if(!r)throw new Error("Cannot load yml AST without a readFile implementation");return fr.parseDocument(null==r?void 0:r(e,"utf8"),{logLevel:"debug",keepSourceTokens:!0,prettyErrors:!0})}return fr.parseDocument(e,{logLevel:"debug",keepSourceTokens:!0,prettyErrors:!0})}function h(e){const t=new fr.Parser;if(l(e)){if(!r)throw new Error("Cannot load yml AST without a readFile implementation");return t.parse(null==r?void 0:r(e,"utf8"))}return t.parse(e)}function p(e,t){return null==r?void 0:r(e,t||"utf8")}const d={existsSync:t,getFileName:u,isFilepath:l,readFile:p,writeFile:s,readJson:i,writeJson:o,readdir:a,readAst:f,readCst:h};return Object.defineProperty(d,"_id_",{configurable:!1,enumerable:!1,writable:!1,value:hr.fs}),d}var Nr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});const Tr={diagnostic:Symbol("DIAGNOSTIC"),root:Symbol("ROOT")},Ir=["width","left"],Pr=["height","top","marginTop"],xr=[...Ir,...Pr],Lr=[...Pr,"borderRadius","fontSize","paddingTop","paddingBottom","marginBottom"],Cr=[...Ir,"marginLeft","marginRight","paddingLeft","paddingRight"],jr=["left","center","right","centerX","centerY"];var $r=(e=>(e[e.AWAIT=0]="AWAIT",e[e.ROOT_MERGE=1]="ROOT_MERGE",e[e.LOCAL_MERGE=2]="LOCAL_MERGE",e[e.EVAL_ROOT_MERGE=3]="EVAL_ROOT_MERGE",e[e.EVAL_LOCAL_MERGE=4]="EVAL_LOCAL_MERGE",e[e.EVAL_BUILT_IN=5]="EVAL_BUILT_IN",e[e.TILDE=6]="TILDE",e[e.TRAVERSE=7]="TRAVERSE",e))($r||{}),Mr=(e=>(e[e.ERROR=9e3]="ERROR",e[e.WARN=9001]="WARN",e[e.INFO=9002]="INFO",e))(Mr||{}),Rr=(e=>(e[e.Ampersand=38]="Ampersand",e[e.Asterisk=42]="Asterisk",e[e.At=64]="At",e[e.Backspace=8]="Backspace",e[e.Backtick=96]="Backtick",e[e.Backslash=92]="Backslash",e[e.Bar=124]="Bar",e[e.Caret=94]="Caret",e[e.CloseBrace=125]="CloseBrace",e[e.CloseBracket=93]="CloseBracket",e[e.CloseParen=41]="CloseParen",e[e.Colon=58]="Colon",e[e.Comma=44]="Comma",e[e.Dot=46]="Dot",e[e.Dollar=36]="Dollar",e[e.DoubleQuote=34]="DoubleQuote",e[e.Equals=61]="Equals",e[e.Exclamation=33]="Exclamation",e[e.GreaterThan=62]="GreaterThan",e[e.Hash=35]="Hash",e[e.LessThan=60]="LessThan",e[e.Minus=45]="Minus",e[e.Null=0]="Null",e[e.OpenBrace=123]="OpenBrace",e[e.OpenBracket=91]="OpenBracket",e[e.OpenParen=40]="OpenParen",e[e.Percent=37]="Percent",e[e.Plus=43]="Plus",e[e.Question=63]="Question",e[e.Semicolon=59]="Semicolon",e[e.SingleQuote=39]="SingleQuote",e[e.Slash=47]="Slash",e[e.Tilde=126]="Tilde",e[e.FormFeed=12]="FormFeed",e[e.ByteOrderMark=65279]="ByteOrderMark",e[e.Tab=9]="Tab",e[e.VerticalTab=11]="VerticalTab",e[e.Underline=95]="Underline",e[e.CarriageReturn=13]="CarriageReturn",e[e.LineFeed=10]="LineFeed",e[e.LineSeparator=8232]="LineSeparator",e[e.NextLine=133]="NextLine",e[e.ParagraphSeparator=8233]="ParagraphSeparator",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e))(Rr||{}),Dr=(e=>(e[e.LessThan=-1]="LessThan",e[e.EqualTo=0]="EqualTo",e[e.GreaterThan=1]="GreaterThan",e))(Dr||{}),Ur=(e=>(e[e.LOCAL_REF_MISSING_ROOT_KEY=2e4]="LOCAL_REF_MISSING_ROOT_KEY",e[e.ROOT_REF_MISSING_ROOT_KEY=20001]="ROOT_REF_MISSING_ROOT_KEY",e[e.ROOT_MISSING_ROOT_KEY=20002]="ROOT_MISSING_ROOT_KEY",e[e.ROOT_VALUE_EMPTY=20003]="ROOT_VALUE_EMPTY",e[e.REFERENCE_UNRESOLVABLE=20004]="REFERENCE_UNRESOLVABLE",e[e.ROOT_REFERENCE_SECOND_LEVEL_KEY_UPPERCASE=20100]="ROOT_REFERENCE_SECOND_LEVEL_KEY_UPPERCASE",e[e.TRAVERSAL_REF_INCOMPLETE_MISSING_KEY=20199]="TRAVERSAL_REF_INCOMPLETE_MISSING_KEY",e[e.GOTO_PAGE_MISSING_FROM_APP_CONFIG=3e4]="GOTO_PAGE_MISSING_FROM_APP_CONFIG",e[e.GOTO_PAGE_INVALID=30001]="GOTO_PAGE_INVALID",e[e.GOTO_PAGE_COMPONENT_URL_CURRENT_PAGE_INVALID=30002]="GOTO_PAGE_COMPONENT_URL_CURRENT_PAGE_INVALID",e[e.GOTO_PAGE_COMPONENT_URL_TARGET_PAGE_INVALID=30003]="GOTO_PAGE_COMPONENT_URL_TARGET_PAGE_INVALID",e[e.GOTO_PAGE_COMPONENT_URL_VIEW_TAG_INVALID=30004]="GOTO_PAGE_COMPONENT_URL_VIEW_TAG_INVALID",e[e.GOTO_PAGE_EMPTY=30005]="GOTO_PAGE_EMPTY",e[e.GOTO_PAGE_MISSING_FROM_ROOT=30006]="GOTO_PAGE_MISSING_FROM_ROOT",e[e.VIEW_TAG_INVALID=30500]="VIEW_TAG_INVALID",e[e.VIEW_TAG_MISSING_COMPONENT_POINTER=30501]="VIEW_TAG_MISSING_COMPONENT_POINTER",e[e.POPUP_VIEW_INVALID=30600]="POPUP_VIEW_INVALID",e[e.POPUP_VIEW_MISSING_COMPONENT_POINTER=30601]="POPUP_VIEW_MISSING_COMPONENT_POINTER",e[e.BUILTIN_FUNCTION_MISSING=4e4]="BUILTIN_FUNCTION_MISSING",e[e.BUILTIN_FUNCTION_NOT_A_FUNCTION=40001]="BUILTIN_FUNCTION_NOT_A_FUNCTION",e))(Ur||{}),Br=Object.freeze({__proto__:null,_symbol:Tr,xKeys:Ir,yKeys:Pr,posKeys:xr,vpHeightKeys:Lr,vpWidthKeys:Cr,textAlignStrings:jr,ReferenceType:$r,ValidatorType:Mr,CharCode:Rr,Comparison:Dr,DiagnosticCode:Ur});class Vr{constructor(){this.assetsUrl="",this.baseUrl="",this.fileSuffix=".yml",this.languageSuffix={unknown:"_en"},this.page=[],this.preload=[],this.startPage=""}}const Fr=/[a-zA-Z]/i,Kr=/^[+-]?\d*\.?\d+(?:[Ee][+-]?\d+)?$/,Gr=/\\/g,qr=/(^|\/)\.{0,2}($|\/)/,Wr=/[^\u0130\u0131\u00DFa-z0-9\\/:\-_. ]+/g;var Yr=Object.freeze({__proto__:null,letters:Fr,numbers:Kr,backslash:Gr,relativePathSegment:qr,filenameLowerCase:Wr});class Jr{}class zr{}class Hr{}class Qr{}class Xr{constructor(){Object.defineProperty(this,"_id_",{configurable:!1,enumerable:!1,writable:!0,value:Tr.root})}}class Zr{}class es{}var ts,ns,rs,ss,is=Object.defineProperty,os=Object.getOwnPropertySymbols,as=Object.prototype.hasOwnProperty,cs=Object.prototype.propertyIsEnumerable,ls=(e,t,n)=>t in e?is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,us=(e,t)=>{for(var n in t||(t={}))as.call(t,n)&&ls(e,n,t[n]);if(os)for(var n of os(t))cs.call(t,n)&&ls(e,n,t[n]);return e},fs=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},hs=(e,t,n)=>(fs(e,t,"read from private field"),n?n.call(e):t.get(e)),ps=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ds=(e,t,n,r)=>(fs(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class ms{constructor(){ps(this,ts,void 0),ps(this,ns,null),ps(this,rs,null),ps(this,ss,null)}set data(e){var t;ds(this,ts,e||(null==(t=hs(this,rs))?void 0:t.value))}get data(){return hs(this,ts)}get iterator(){return hs(this,ns)}get visitor(){return hs(this,ss)}get root(){return hs(this,rs)}createHelpers(e){return us({isValidPageValue:e=>!(!e||!Fr.test(e)||/null|undefined/i.test(e)||[".","_","-"].some((t=>t===e))),isValidViewTag:e=>"string"==typeof e&&!(!e||!Fr.test(e))},e)}createData(e){return e}createProps(e){return us({},e)}use(e){return e instanceof Hr?ds(this,ns,e):e instanceof Xr?ds(this,rs,e):e instanceof es&&ds(this,ss,e),this}}function ys(e){return Array.isArray(e)}function gs(e){return vs(e)||bs(e)}function vs(e){return!0===e||"true"===e}function bs(e){return!1===e||"false"===e}ts=new WeakMap,ns=new WeakMap,rs=new WeakMap,ss=new WeakMap;const ws={any:e=>Cs(e)&&("type"in e||"children"in e),header:e=>Cs(e)&&"header"===e.type,image:e=>Cs(e)&&"image"===e.type,list:e=>Cs(e)&&"list"===e.type,listItem:e=>Cs(e)&&"listItem"===e.type,listLike:e=>Cs(e)&&("list"===e.type||"chatList"===e.type),popUp:e=>Cs(e)&&"popUp"===e.type,scrollView:e=>Cs(e)&&"scrollView"===e.type,select:e=>Cs(e)&&"select"===e.type,textView:e=>Cs(e)&&"textView"===e.type,video:e=>Cs(e)&&"video"===e.type},_s=ws.header,Os=ws.image,Es=ws.list,Ss=ws.listItem,ks=ws.listLike,Ns=ws.popUp,As=ws.scrollView,Ts=ws.select,Is=ws.textView,Ps=ws.video;function xs(e){return Cs(e)&&e._id_===Tr.diagnostic}function Ls(e,t){return""!==e&&t.startsWith(e)}function Cs(e){return null!==e&&!ys(e)&&"object"==typeof e}function js(e){return"string"==typeof e}function $s(e){return!!e.endsWith("@")}function Ms(e){return!!e.startsWith("=")}function Rs(e){return!!e.startsWith("=..")}function Ds(e){var t;return!(!e||(null==(t=e[0])?void 0:t.toLowerCase())!==e[0]||Kr.test(e))}function Us(e){return!!e.startsWith("=.")}function Bs(e){return!!e.startsWith("..")||!!e.startsWith("=..")}function Vs(e){return!!(js(e)&&".yml"!==e&&(e.startsWith(".")||e.startsWith("=")||e.startsWith("@")||e.startsWith("~/")||/^[_]+\./.test(e)))}function Fs(e){var t,n;return!(e.startsWith("..")||e.startsWith("=..")||(!e.startsWith(".")||(null==(t=e[1])?void 0:t.toUpperCase())!==e[1])&&(!e.startsWith("=.")||(null==(n=e[2])?void 0:n.toUpperCase())!==e[2]))}function Ks(e){return e.startsWith("~/")}function Gs(e){return/^[_]+\./.test(e)}function qs(e){var t;return!(!e||(null==(t=e[0])?void 0:t.toUpperCase())!==e[0]||Kr.test(e))}function Ws(e){return"function"==typeof e}function Ys(e){return null===e||ei(e)}function Js(e){return Ys(e)||"0px"===e||"0"==e||"auto"==e||"none"==e}function zs(e){return"number"==typeof e}function Hs(e){return js(e)&&!/[a-zA-Z]/i.test(e)&&e%1!=0}function Qs(e){if(!js(e))return!1;const t=e.match(/@|#/g);return!!t&&["@","#"].every((e=>t.includes(e)))}function Xs(e){return Cs(e)&&"then"in e}function Zs(e){return null!==e&&"object"==typeof e&&e._id_===Tr.root}function ei(e){return void 0===e}function ti(e){return js(e)&&(e.endsWith("vw")||e.endsWith("vh"))}function ni(e){return js(e)&&e.endsWith("vw")}function ri(e){return js(e)&&e.endsWith("vh")}function si(e){return!!js(e)&&[ii,oi].some((t=>t(e)))}function ii(e){return[...Lr,"center","centerY"].includes(e)}function oi(e){return[...Cr,"centerX","right"].includes(e)}function ai(e){return Cs(e)&&("width"in e||"height"in e)&&zs(e.width||zs(e.height))}var ci=Object.freeze({__proto__:null,arr:ys,bool:gs,boolTrue:vs,boolFalse:bs,component:ws,header:_s,image:Os,list:Es,listItem:Ss,listLike:ks,popUp:Ns,scrollView:As,select:Ts,textView:Is,video:Ps,diagnostic:xs,iteratorVarKey:Ls,obj:Cs,str:js,awaitReference:$s,evalReference:Ms,evalLocalReference:Rs,localKey:Ds,evalRootReference:Us,localReference:Bs,reference:Vs,rootReference:Fs,tildeReference:Ks,traverseReference:Gs,rootKey:qs,fnc:Ws,nil:Ys,nullishStyleValue:Js,num:zs,noodlUnit:Hs,pageComponentUrl:Qs,promise:Xs,root:Zs,und:ei,vwVh:ti,vw:ni,vh:ri,keyRelatedToWidthOrHeight:si,keyRelatedToHeight:ii,keyRelatedToWidth:oi,validViewport:ai}),li=Object.defineProperty,ui=Object.getOwnPropertySymbols,fi=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,pi=(e,t,n)=>t in e?li(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,di=(e,t)=>{for(var n in t||(t={}))fi.call(t,n)&&pi(e,n,t[n]);if(ui)for(var n of ui(t))hi.call(t,n)&&pi(e,n,t[n]);return e};function mi(e,...t){return Object.assign(e,...t)}function yi(e){return(...t)=>e(t[0],t[1])}function gi(e){return Object.entries(null!==e&&"object"==typeof e?e:{})}function vi(e,t){return e===t}function bi(e,t){return vi(e,t)}function wi(e,t){return e===t||!ei(e)&&!ei(t)&&e.toUpperCase()===t.toUpperCase()}function _i(e,t){if(!js(e))return e;if(e===t)return"";if(t&&js(t)&&e.includes(t)){const n=`${t}.`;return e.split(n).join("").replace(t,"")}return e}function Oi(e,t){ys(e)&&e.forEach(((e,n,r)=>t(e,n,r)))}function Ei(e,t){var n;let r=0,s=Ui(t),i=s.length;for(;null!=e&&r<i;){let t=Ui(s[r++])||[];e=e[(null==(n=null==t?void 0:t.join)?void 0:n.call(t,"."))||""]}return r&&r==i?e:void 0}function Si(e,t){if(Cs(e)&&t){const n=ys(t)?t:String(t).split(".");if(1===n.length)return!!n[0]&&n[0]in e;const r=n.shift();if(r)return Si(e[r],n)}return!1}function ki(e){return Number(e)%1!=0}function Ni(e){return e}function Ai(e,...t){return Cs(e)&&t.forEach((e=>{Cs(e)&&Object.entries(e).forEach((([t,n])=>{e[t]=Cs(n)?Ai(e[t],n):n}))})),e}function Ti(e,t){if(Ys(e))return e;if(e=di({},e),t=Ri(t),Cs(e))for(const n of t)delete e[n];return e}function Ii(e,t,n){return(Ws(e)?e():e)?t:n}function Pi(e,...t){return(...n)=>e(...t,...n)}function xi(e,...t){return(...n)=>e(...n,...t)}function Li(...e){return Ui(...e)}function Ci(e,t){const n={};if(null!==e&&"object"==typeof e){t=Ri(t);for(const[r,s]of gi(e))t.includes(r)&&(n[r]=s)}return n}function ji(e,t,n){if(ys(e)||Cs(e)){const r=Ui(t);if(1===r.length)e[r[0]]=n;else{const t=r.shift();t&&ji(e[t],r,n)}}}function $i(e,t){if(e){if(!t)return e.length>0;for(const n of e)if(t(n))return!0}return!1}function Mi(e){return function([t,n]){return e(t,n)}}function Ri(e){return Array.isArray(e)?e:[e]}function Di(e,t){return zs(t)?e.toFixed(t):e}function Ui(e=""){return ys(e)?e:js(e)?e.split("."):Ri(e).filter((e=>!ei(e)))}function Bi(e,t){return zs(e)?Number(Di(Number(e),t)):js(e)?Number(Di(Number(e.replace(/[a-zA-Z]/gi,"")),t)):Number(e)}function Vi(e){return js(e)?e:String(e)}function Fi(e){return js(e)&&so(e)?e:`${e}px`}function Ki(e,t){return e.startsWith(t)}function Gi(e){return e.toLowerCase()}function qi(e){return e.toUpperCase()}var Wi=Object.freeze({__proto__:null,assign:mi,binary:yi,entries:gi,eq:vi,equateStringsCaseSensitive:bi,equateStringsCaseInsensitive:wi,excludeStr:_i,each:Oi,get:Ei,has:Si,hasDecimal:ki,identity:Ni,merge:Ai,omit:Ti,or:Ii,partial:Pi,partialR:xi,path:Li,pick:Ci,set:ji,some:$i,spread:Mi,toArr:Ri,toPath:Ui,toNum:Bi,toStr:Vi,toPx:Fi,startsWith:Ki,lowercase:Gi,uppercase:qi});function Yi(e,t="px"){return js(e)&&so(e)?e:`${e}${t}`}function Ji(e,t){if(js(t)){if(t===e)return"";if(t.startsWith(e))return Qi(t)>1?Ui(t).slice(1).join("."):""}return t}function zi(e){return"string"==typeof e&&e.startsWith("0x")?e.replace("0x","#"):e||""}function Hi(e,t,n){if(!e)return;const r=null==e?void 0:e[t];if(js(r)){if("0"==r)return{[t]:"0px"};if("1"==r)return{[t]:`${n}px`};if(!so(r))return{[t]:no(n,r)+"px"}}else if(ki(null==e?void 0:e[t]))return{[t]:no(n,r)+"px"}}function Qi(e){return js(e)?uo(e).split(".").length:0}function Xi(e){const t=uo(e),n=t.split(".");return{isLocalRef:Bs(e),isLocalKey:Ds(t),paths:n,path:t,ref:e}}function Zi(e,t){let n=Ui(uo(Ri(e).join("."))),r=t||"";return n.length&&r&&n[0]===r&&n.shift(),{paths:n,path:n.join("."),rootKey:r}}function eo(e,t,{toFixed:n=2,unit:r="px"}={}){let s;if("0"==e?s=0:"1"==e?s=Number(t):js(e)?s=so(e)?e.replace(/[a-zA-Z]+/gi,""):Number(e)*t:zs(e)&&(s=ki(e)?e*t:e),Ys(s))return s;switch(r){case"noodl":return(Number(s)/t).toFixed(n);case"px":return`${Number(s).toFixed(n)}px`;default:return Number(s).toFixed(n)}}function to(e,t){const n=ro(t);return null!==n&&ai(e)?e[n]:null}function no(e,t){return js(t)||zs(t)?e*Number(t):e}function ro(e){return ni(e)||oi(e)?"width":(ri(e)||ii(e),"height")}function so(e){return/[a-zA-Z]/i.test(String(e))}const io={border:{1:{borderStyle:"none",borderRadius:"0px"},2:{borderRadius:"0px",borderStyle:"none",borderBottomStyle:"solid"},3:{borderStyle:"solid"},4:{borderStyle:"dashed",borderRadius:"0px"},5:{borderStyle:"none"},6:{borderStyle:"solid",borderRadius:"0px"},7:{borderBottomStyle:"solid",borderRadius:"0px"}}};function oo(e){return!!js(e)&&!(!e||!Fr.test(e))}function ao(e){if(ys(e)){const[t,n]=e;if("axis"===t){if("horizontal"===n)return{display:"flex",flexWrap:"nowrap"};if("vertical"===n)return{display:"flex",flexDirection:"column"}}if("align"===t){if("centerX"===n)return{display:"flex",justifyContent:"center"};if("centerY"===n)return{display:"flex",alignItems:"center"}}if("textAlign"===t){if("centerX"===n)return{textAlign:"center"};if("centerY"===n)return{display:"flex",alignItems:"center"}}return{[t]:n}}if(js(e)){if(e.startsWith("0x"))return`#${e.substring(2)}`;if("shadow"===e)return"5px 5px 10px 3px rgba(0, 0, 0, 0.015)";if("true"===e)return!0;if("false"===e)return!1}return e}function co(e){const[t="",n,r="",s,i=""]=e.split(/(@|#)/);return{targetPage:t,currentPage:r,viewTag:i}}function lo(e,t,n){return`${e}@${t}#${n}`}function uo(e,t){return"prefix"===t?uo.regex.prefix.test(e)?e.replace(uo.regex.prefix,""):e:"suffix"===t?(uo.regex.suffix.test(e),e):e.replace(uo.regex.prefix,"").replace(uo.regex.suffix,"")||""}function fo(e,t){function n(e,t){switch(e){case Ur.LOCAL_REF_MISSING_ROOT_KEY:return`Encountered a local reference "${t.ref}" but a page name (rootKey) was not found`;case Ur.ROOT_REF_MISSING_ROOT_KEY:return`Attemped to resolved a reference "${t.ref}" but both rootKey and pageName was empty. No root level object could be retrieved`;case Ur.ROOT_MISSING_ROOT_KEY:return`Attemped to resolved a reference "${t.ref}" but the root object did not have "${t.rootKey}" as a key`;case Ur.ROOT_VALUE_EMPTY:return`The value retrieved using the root key "${t.rootKey}" was empty`;case Ur.TRAVERSAL_REF_INCOMPLETE_MISSING_KEY:return`The reference "${t.ref}" couldn't be resolved fully. Traversal stopped at "${t.path.join(".")}" because the object at this iteration did not contain this key`;case Ur.REFERENCE_UNRESOLVABLE:return`The reference ${t.ref} is unresolvable`;case Ur.ROOT_REFERENCE_SECOND_LEVEL_KEY_UPPERCASE:return`Root reference ${t.ref} should not have its second level key "${t.key}" begin with an uppercase`;case Ur.GOTO_PAGE_MISSING_FROM_APP_CONFIG:return`The page/destination "${t.destination}" was not included in the app config (cadlEndpoint)`;case Ur.GOTO_PAGE_COMPONENT_URL_CURRENT_PAGE_INVALID:{const{targetPage:e,viewTag:n}=co(t.destination);return`The page component url "${t.destination}" does not contain the current page "${t.page}". Expected "${lo(t.page,e,n)}"`}case Ur.GOTO_PAGE_COMPONENT_URL_TARGET_PAGE_INVALID:{const{currentPage:e,viewTag:n}=co(t.destination);return`The page component url "${t.destination}" does not correctly contain a target page. Expected "${lo(e,"TARGET_PAGE",n)}"`}case Ur.GOTO_PAGE_COMPONENT_URL_VIEW_TAG_INVALID:{const{currentPage:e,targetPage:n}=co(t.destination);return`The page component url "${t.destination}" does not correctly contain a viewTag. Expected "${lo(e,n,"VIEW_TAG")}"`}case Ur.GOTO_PAGE_EMPTY:return"Goto destination is empty";case Ur.GOTO_PAGE_MISSING_FROM_ROOT:return`Page "${t.page}" is missing from root`;case Ur.VIEW_TAG_INVALID:return`Invalid viewTag "${t.viewTag}"`;case Ur.VIEW_TAG_MISSING_COMPONENT_POINTER:return`The viewTag "${t.viewTag}" does not have a pointer to any components`;case Ur.POPUP_VIEW_INVALID:return`Invalid popUpView "${t.popUpView}"`;case Ur.POPUP_VIEW_MISSING_COMPONENT_POINTER:return`The popUpView "${t.popUpView}" does not have a pointer to any components`;case Ur.BUILTIN_FUNCTION_MISSING:return`The builtIn ${t.key} was not found`;case Ur.BUILTIN_FUNCTION_NOT_A_FUNCTION:return`Expected builtIn ${t.key} to be a function but received "${t.type}"`;default:throw new Error(`Invalid diagnostic code "${e}"`)}}Cs(t)||(t={});const r=n(e,t);return r?{code:e,message:r}:{code:e}}function ho(e){return js(e)&&("error"===e||"info"===e||"warn"===e)}uo.regex={prefix:/^[.=@]+/i,suffix:/[.=@]+$/i};var po,mo=Object.defineProperty,yo=Object.getOwnPropertySymbols,go=Object.prototype.hasOwnProperty,vo=Object.prototype.propertyIsEnumerable,bo=(e,t,n)=>t in e?mo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wo=(e,t)=>{for(var n in t||(t={}))go.call(t,n)&&bo(e,n,t[n]);if(yo)for(var n of yo(t))vo.call(t,n)&&bo(e,n,t[n]);return e},_o=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Oo=(e,t,n)=>(_o(e,t,"read from private field"),n?n.call(e):t.get(e)),Eo=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};const So=class{constructor(){Eo(this,po,{messages:[]}),Object.defineProperty(this,"_id_",{configurable:!1,enumerable:!1,writable:!0,value:Tr.diagnostic})}static create(e,t,n){return"number"==typeof t&&"object"==typeof n?wo({type:e},fo(t,n)):"string"==typeof t?{type:e,message:t}:wo(wo({type:e},"number"==typeof t?{code:t}:void 0),"string"==typeof n?{message:n}:void 0)}[Symbol.for("nodejs.util.inspect.custom")](){return this.toJSON()}get(e){return Oo(this,po)[e]}set(e,t){return Oo(this,po)[e]=t,this}get messages(){return Oo(this,po).messages}set messages(e){Oo(this,po).messages=e}error(e,t){return this.messages.push(So.create("error",e,t)),this}info(e,t){return this.messages.push(So.create("info",e,t)),this}warn(e,t){return this.messages.push(So.create("warn",e,t)),this}toJSON(){return Oo(this,po)}toString(){return JSON.stringify(this.toJSON(),null,2)}};let ko=So;po=new WeakMap;class No{constructor(){this.android={cadlVersion:{stable:0,test:0}},this.apiHost="apiHost",this.apiPort="",this.appApiHost="",this.cadlBaseUrl="",this.cadlMain="cadlEndpoint.yml",this.connectiontimeout="5",this.debug="",this.ios={cadlVersion:{stable:0,test:0}},this.keywords=[],this.loadingLevel=1,this.myBaseUrl="",this.timestamp="",this.web={cadlVersion:{stable:0,test:0}},this.webApiHost="apiHost"}}var Ao,To,Io,Po,xo,Lo,Co=Object.defineProperty,jo=Object.defineProperties,$o=Object.getOwnPropertyDescriptors,Mo=Object.getOwnPropertySymbols,Ro=Object.prototype.hasOwnProperty,Do=Object.prototype.propertyIsEnumerable,Uo=(e,t,n)=>t in e?Co(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bo=(e,t)=>{for(var n in t||(t={}))Ro.call(t,n)&&Uo(e,n,t[n]);if(Mo)for(var n of Mo(t))Do.call(t,n)&&Uo(e,n,t[n]);return e},Vo=(e,t)=>jo(e,$o(t)),Fo=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ko=(e,t,n)=>(Fo(e,t,"read from private field"),n?n.call(e):t.get(e)),Go=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},qo=(e,t,n,r)=>(Fo(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Wo=(e,t,n)=>new Promise(((r,s)=>{var i=e=>{try{a(n.next(e))}catch(e){s(e)}},o=e=>{try{a(n.throw(e))}catch(e){s(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);a((n=n.apply(e,t)).next())}));class Yo extends ms{constructor(){super(),Go(this,Ao,void 0),Go(this,To,void 0),Go(this,Io,{rootConfig:"",appConfig:""}),Go(this,Po,{addDiagnostic:[]}),Go(this,xo,(e=>{var t,n,r;const s=null==(t=this.visitor)?void 0:t.callback;e.enter?null==(n=this.visitor)||n.use(e.enter):null==(r=this.visitor)||r.use((e=>null==s?void 0:s(e)));const i=[];return{diagnostics:i,options:{init:e.init,data:this.createData({diagnostics:i}),root:this.root},originalVisitor:s}})),Go(this,Lo,(({diagnostics:e,name:t,node:n})=>{const r={add:(r,s,i,o,a)=>{let c,l="";const u=new ko;if(Ws(r))js(s)&&(l=s),i&&(c=i),r(u,e);else if(ho(r))if(zs(s)){Cs(i)&&js(o)&&(l=o,a&&(c=a));const e=fo(s,i);u[r](e.code,e.message)}else js(s)?u[r](s):u.set("type",r);else if(zs(r))(Cs(s)||js(s))&&(u.info(r,s),js(i)&&(l=i,o&&(c=o)));else if(Cs(r)){for(const[e,t]of gi(r))u.set(e,t);js(s)&&(l=s,i&&(c=i))}l||(l=t),c||(c=n),u.get("page")||u.set("page",l),this.hooks.addDiagnostic.forEach((e=>e(u,l,c))),e.push(u)},markers:Ko(this,Io)};return this.createProps({helpers:this.createHelpers(r),name:t,node:n})})),qo(this,To,new No),qo(this,Ao,new Vr)}[Symbol.iterator](){return this.root[Symbol.iterator]()}get hooks(){return Ko(this,Po)}get rootConfig(){return Ko(this,To)}get appConfig(){return Ko(this,Ao)}get markers(){return Ko(this,Io).assetsUrl=Ko(this,Ao).assetsUrl,Ko(this,Io).baseUrl=Ko(this,To).cadlBaseUrl,Ko(this,Io).preload=Ko(this,Ao).preload,Ko(this,Io).pages=Ko(this,Ao).page,Ko(this,Io)}mark(e,t){return/preload|page/.test(e)?Ko(this,Ao)["pages"===e?"page":e].push(t):"baseUrl"===e?Ko(this,To).cadlBaseUrl=t:"assetsUrl"===e?Ko(this,Ao).assetsUrl=t:this.markers[e]=t,this}run(e={}){var t,n,r;const s=Ri(null!=(t=null==e?void 0:e.asserters)?t:[]).filter(Boolean),i=null==e?void 0:e.builtIn,{diagnostics:o,options:a,originalVisitor:c}=Ko(this,xo).call(this,e);try{for(const[e,t]of this){const{helpers:r,node:c}=Ko(this,Lo).call(this,{diagnostics:o,name:e,node:t});null==(n=this.visitor)||n.visit(c,Vo(Bo({},a),{asserters:s,builtIn:i,helpers:r,page:e}))}}catch(e){throw e instanceof Error?e:new Error(String(e))}finally{c&&(null==(r=this.visitor)||r.use(c))}return o}print(e){console.dir(e.map((e=>e.toJSON())),{depth:1/0})}runAsync(){return Wo(this,arguments,(function*(e={}){var t,n;const r=Ri(null!=(t=null==e?void 0:e.asserters)?t:[]).filter(Boolean),s=null==e?void 0:e.builtIn,{diagnostics:i,options:o,originalVisitor:a}=Ko(this,xo).call(this,e);try{return yield Promise.all([...this].map((([e,t])=>{var n;const{helpers:a,node:c}=Ko(this,Lo).call(this,{diagnostics:i,name:e,node:t});return null==(n=this.visitor)?void 0:n.visitAsync(c,Vo(Bo({},o),{asserters:r,builtIn:s,page:e,helpers:a}))}))),i}catch(e){throw e instanceof Error?e:new Error(String(e))}finally{a&&(null==(n=this.visitor)||n.use(a))}}))}on(e,t){return"addDiagnostic"===e&&this.hooks.addDiagnostic.push(t),this}}Ao=new WeakMap,To=new WeakMap,Io=new WeakMap,Po=new WeakMap,xo=new WeakMap,Lo=new WeakMap;var Jo=Object.defineProperty,zo=Object.defineProperties,Ho=Object.getOwnPropertyDescriptors,Qo=Object.getOwnPropertySymbols,Xo=Object.prototype.hasOwnProperty,Zo=Object.prototype.propertyIsEnumerable,ea=(e,t,n)=>t in e?Jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ta=(e,t)=>{for(var n in t||(t={}))Xo.call(t,n)&&ea(e,n,t[n]);if(Qo)for(var n of Qo(t))Zo.call(t,n)&&ea(e,n,t[n]);return e},na=(e,t)=>zo(e,Ho(t));const ra={arr:ys,obj:Cs,num:zs,ref:Vs,str:js,localKey:Ds,localRef:Bs,rootRef:Fs,traverseRef:Gs};function sa({dataObject:e,iteratorVar:t="",path:n=[],ref:r,root:s,rootKey:i="",identifiers:o}){var a,c,l,u;o||(o=ra);let{isLocalRef:f,path:h,ref:p}=Xi(r);if(!t){if(!f)return Ei(s,h);if(!i)return p;if(s)return Ei(s,`${i}.${h}`)}if(null==(a=o.str)?void 0:a.call(o,r)){if(Vs(r),(null==(c=o.str)?void 0:c.call(o,r))&&t&&r.startsWith(t)&&e)return r===t?e:sa(na(ta({},arguments[0]),{ref:Ei(e,_i(r,t)||"")}))}else{if(null==(l=o.arr)?void 0:l.call(o,r))return r.map(((e,t)=>sa(na(ta({},arguments[0]),{path:h.concat(t),ref:e}))));(null==(u=o.obj)?void 0:u.call(o,r))&&Object.entries(r).forEach((([e,t])=>{var n,s,i;if((null==(n=null==o?void 0:o.str)?void 0:n.call(o,t))&&(null==(s=null==o?void 0:o.ref)?void 0:s.call(o,t))||(null==(i=null==o?void 0:o.obj)?void 0:i.call(o,t)))return r[e]=sa(na(ta({},arguments[0]),{path:h.concat(e),ref:t}))}))}return r}(new Map).set("identifiers",[{identifiers:ra}]);var ia,oa=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},aa=(e,t,n)=>(oa(e,t,"read from private field"),n?n.call(e):t.get(e)),ca=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},la=(e,t,n,r)=>(oa(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ua=(e,t,n)=>new Promise(((r,s)=>{var i=e=>{try{a(n.next(e))}catch(e){s(e)}},o=e=>{try{a(n.throw(e))}catch(e){s(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);a((n=n.apply(e,t)).next())}));class fa extends Qr{constructor(e){super(),ca(this,ia,void 0),la(this,ia,e)}get fs(){return aa(this,ia)}set fs(e){la(this,ia,e)}readFile(e){return ua(this,arguments,(function*(e){return this.fs.readFile(e,...Array.from(arguments).slice(1))}))}readFileSync(...e){return this.fs.readFileSync(...e)}writeFile(e,t){return ua(this,arguments,(function*(e,t){const n=[...arguments].slice(2);return this.fs.writeFile(e,t,...n)}))}writeFileSync(...e){this.fs.writeFileSync(...e)}}ia=new WeakMap,Ar.AAccumulator=Jr,Ar.AExtractor=zr,Ar.AFileSystem=Qr,Ar.AIterator=Hr;var ha=Ar.ARoot=Xr;Ar.AStructure=Zr;var pa=Ar.AVisitor=es;Ar.AppConfig=Vr,Ar.Builder=ms,Ar.Diagnostic=ko;var da=Ar.Diagnostics=Yo;Ar.FileSystem=fa,Ar.RootConfig=No;var ma=Ar.consts=Br;Ar.deref=sa,Ar.ensureCssUnit=Yi,Ar.excludeIteratorVar=Ji,Ar.formatColor=zi;var ya=Ar.fp=Wi;Ar.generateDiagnostic=fo,Ar.getNextRootKeyProps=Zi,Ar.getPositionProps=Hi,Ar.getRefLength=Qi;var ga=Ar.getRefProps=Xi;Ar.getSize=eo,Ar.getViewportBound=to,Ar.getViewportRatio=no,Ar.getVpKey=ro,Ar.hasLetter=so;var va=Ar.is=ci;Ar.isValidViewTag=oo,Ar.normalize=ao,Ar.parsePageComponentUrl=co,Ar.presets=io,Ar.regex=Yr,Ar.toPageComponentUrl=lo;var ba=Ar.toPath=Ui,wa=Ar.trimReference=uo;function _a(e){return fr.isScalar(e)?"Scalar":fr.isPair(e)?"Pair":fr.isMap(e)?"Map":fr.isSeq(e)?"Seq":fr.isDocument(e)?"Document":"unknown"}function Oa(e){switch(_a(e)){case"Scalar":return pr.Scalar;case"Pair":return pr.Pair;case"Map":return pr.Map;case"Seq":return pr.Seq;case"Document":return pr.Document;default:return pr.Unknown}}class Ea{[Symbol.iterator](){const e=[...this.diagnostics];return{next:()=>({get value(){return e.pop()},get done(){return!e.length}})}}constructor(e){this.diagnostics=e}createMessageFinder(e){const t=new RegExp(e,"i");return e=>e.messages.find((e=>!!va.str(e.message)&&t.test(e.message)))}createCodeFinder(e){return t=>t.messages.find((t=>t.code===e))}find(e){const t=va.str(e)?this.createMessageFinder(e):this.createCodeFinder(e);for(const e of this)if(e&&t(e))return!0;return!1}}var Sa,ka=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Na=(e,t,n)=>(ka(e,t,"read from private field"),n?n.call(e):t.get(e)),Aa=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ta=(e,t,n,r)=>(ka(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class Ia{constructor(e){Aa(this,Sa,void 0),Ta(this,Sa,e)}getIterator(){var e;const t=[...(null==(e=Na(this,Sa).root)?void 0:e.value).entries()],n=Na(this,Sa).markers.rootConfig,r=Na(this,Sa).markers.appConfig,s=Na(this,Sa).markers.preload||[],i=Na(this,Sa).markers.pages||[],o=e=>{const n=t.findIndex((([t])=>t===e));if(n>0){const e=t[n];t.splice(n,1),t.unshift(e)}};return n&&o(n),r&&o(r),s.length&&s.forEach((e=>o(e))),i.length&&i.forEach((e=>o(e))),{next:()=>({get value(){return t.pop()},get done(){return!t.length}})}}}function Pa(e){if(null!==e&&"object"==typeof e){if(fr.isScalar(e))return e.value;if(fr.isDocument(e))return e.contents;if(e._id_===hr.root)return e.value}return e}function xa(e){return e}Sa=new WeakMap;var La=xa;function Ca(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var ja=Ca,$a=ja,Ma=Math.max;function Ra(e,t,n){return t=Ma(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=Ma(r.length-t,0),o=Array(i);++s<i;)o[s]=r[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=r[s];return a[t]=n(o),$a(e,this,a)}}var Da=Ra;function Ua(e){return function(){return e}}var Ba=Ua,Va="object"==typeof Nr&&Nr&&Nr.Object===Object&&Nr,Fa="object"==typeof self&&self&&self.Object===Object&&self,Ka=Va||Fa||Function("return this")(),Ga=Ka.Symbol,qa=Ga,Wa=Object.prototype,Ya=Wa.hasOwnProperty,Ja=Wa.toString,za=qa?qa.toStringTag:void 0;function Ha(e){var t=Ya.call(e,za),n=e[za];try{e[za]=void 0;var r=!0}catch(e){}var s=Ja.call(e);return r&&(t?e[za]=n:delete e[za]),s}var Qa=Ha,Xa=Object.prototype.toString;function Za(e){return Xa.call(e)}var ec=Ga,tc=Qa,nc=Za,rc="[object Null]",sc="[object Undefined]",ic=ec?ec.toStringTag:void 0;function oc(e){return null==e?void 0===e?sc:rc:ic&&ic in Object(e)?tc(e):nc(e)}var ac=oc;function cc(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var lc=cc,uc=ac,fc=lc,hc="[object AsyncFunction]",pc="[object Function]",dc="[object GeneratorFunction]",mc="[object Proxy]";function yc(e){if(!fc(e))return!1;var t=uc(e);return t==pc||t==dc||t==hc||t==mc}var gc,vc=yc,bc=Ka["__core-js_shared__"],wc=(gc=/[^.]+$/.exec(bc&&bc.keys&&bc.keys.IE_PROTO||""))?"Symbol(src)_1."+gc:"";function _c(e){return!!wc&&wc in e}var Oc=_c,Ec=Function.prototype.toString;function Sc(e){if(null!=e){try{return Ec.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var kc=vc,Nc=Oc,Ac=lc,Tc=Sc,Ic=/[\\^$.*+?()[\]{}|]/g,Pc=/^\[object .+?Constructor\]$/,xc=Function.prototype,Lc=Object.prototype,Cc=xc.toString,jc=Lc.hasOwnProperty,$c=RegExp("^"+Cc.call(jc).replace(Ic,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mc(e){return!(!Ac(e)||Nc(e))&&(kc(e)?$c:Pc).test(Tc(e))}function Rc(e,t){return null==e?void 0:e[t]}var Dc=Mc,Uc=Rc;function Bc(e,t){var n=Uc(e,t);return Dc(n)?n:void 0}var Vc=Bc,Fc=Vc,Kc=function(){try{var e=Fc(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Gc=Ba,qc=Kc,Wc=La,Yc=qc?function(e,t){return qc(e,"toString",{configurable:!0,enumerable:!1,value:Gc(t),writable:!0})}:Wc,Jc=800,zc=16,Hc=Date.now;function Qc(e){var t=0,n=0;return function(){var r=Hc(),s=zc-(r-n);if(n=r,s>0){if(++t>=Jc)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Xc=Qc,Zc=Xc(Yc),el=La,tl=Da,nl=Zc;function rl(e,t){return nl(tl(e,t,el),e+"")}var sl=rl,il=Vc(Ka,"WeakMap"),ol=il&&new il,al=La,cl=ol,ll=cl?function(e,t){return cl.set(e,t),e}:al,ul=lc,fl=Object.create,hl=function(){function e(){}return function(t){if(!ul(t))return{};if(fl)return fl(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),pl=hl,dl=lc;function ml(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pl(e.prototype),r=e.apply(n,t);return dl(r)?r:n}}var yl=ml,gl=yl,vl=Ka,bl=1;function wl(e,t,n){var r=t&bl,s=gl(e);function i(){return(this&&this!==vl&&this instanceof i?s:e).apply(r?n:this,arguments)}return i}var _l=wl,Ol=Math.max;function El(e,t,n,r){for(var s=-1,i=e.length,o=n.length,a=-1,c=t.length,l=Ol(i-o,0),u=Array(c+l),f=!r;++a<c;)u[a]=t[a];for(;++s<o;)(f||s<i)&&(u[n[s]]=e[s]);for(;l--;)u[a++]=e[s++];return u}var Sl=El,kl=Math.max;function Nl(e,t,n,r){for(var s=-1,i=e.length,o=-1,a=n.length,c=-1,l=t.length,u=kl(i-a,0),f=Array(u+l),h=!r;++s<u;)f[s]=e[s];for(var p=s;++c<l;)f[p+c]=t[c];for(;++o<a;)(h||s<i)&&(f[p+n[o]]=e[s++]);return f}var Al=Nl;function Tl(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Il=Tl;function Pl(){}var xl=Pl,Ll=hl,Cl=xl,jl=4294967295;function $l(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jl,this.__views__=[]}$l.prototype=Ll(Cl.prototype),$l.prototype.constructor=$l;var Ml=$l;function Rl(){}var Dl=ol,Ul=Rl,Bl=Dl?function(e){return Dl.get(e)}:Ul,Vl={},Fl=Object.prototype.hasOwnProperty;function Kl(e){for(var t=e.name+"",n=Vl[t],r=Fl.call(Vl,t)?n.length:0;r--;){var s=n[r],i=s.func;if(null==i||i==e)return s.name}return t}var Gl=Kl,ql=hl,Wl=xl;function Yl(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Yl.prototype=ql(Wl.prototype),Yl.prototype.constructor=Yl;var Jl=Yl,zl=Array.isArray;function Hl(e){return null!=e&&"object"==typeof e}var Ql=Hl;function Xl(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Zl=Xl,eu=Ml,tu=Jl,nu=Zl;function ru(e){if(e instanceof eu)return e.clone();var t=new tu(e.__wrapped__,e.__chain__);return t.__actions__=nu(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var su=Ml,iu=Jl,ou=xl,au=zl,cu=Ql,lu=ru,uu=Object.prototype.hasOwnProperty;function fu(e){if(cu(e)&&!au(e)&&!(e instanceof su)){if(e instanceof iu)return e;if(uu.call(e,"__wrapped__"))return lu(e)}return new iu(e)}fu.prototype=ou.prototype,fu.prototype.constructor=fu;var hu=Ml,pu=Bl,du=Gl,mu=fu;function yu(e){var t=du(e),n=mu[t];if("function"!=typeof n||!(t in hu.prototype))return!1;if(e===n)return!0;var r=pu(n);return!!r&&e===r[0]}var gu=yu,vu=Xc(ll),bu=/\{\n\/\* \[wrapped with (.+)\] \*/,wu=/,? & /;function _u(e){var t=e.match(bu);return t?t[1].split(wu):[]}var Ou=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Eu(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ou,"{\n/* [wrapped with "+t+"] */\n")}function Su(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ku(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}function Nu(e){return e!=e}function Au(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var Tu=ku,Iu=Nu,Pu=Au;function xu(e,t,n){return t==t?Pu(e,t,n):Tu(e,Iu,n)}var Lu=xu;function Cu(e,t){return!(null==e||!e.length)&&Lu(e,t,0)>-1}var ju=Su,$u=Cu,Mu=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function Ru(e,t){return ju(Mu,(function(n){var r="_."+n[0];t&n[1]&&!$u(e,r)&&e.push(r)})),e.sort()}var Du=_u,Uu=Eu,Bu=Zc,Vu=Ru;function Fu(e,t,n){var r=t+"";return Bu(e,Uu(r,Vu(Du(r),n)))}var Ku=Fu,Gu=gu,qu=vu,Wu=Ku,Yu=1,Ju=2,zu=4,Hu=8,Qu=32,Xu=64;function Zu(e,t,n,r,s,i,o,a,c,l){var u=t&Hu;t|=u?Qu:Xu,(t&=~(u?Xu:Qu))&zu||(t&=~(Yu|Ju));var f=[e,t,s,u?i:void 0,u?o:void 0,u?void 0:i,u?void 0:o,a,c,l],h=n.apply(void 0,f);return Gu(e)&&qu(h,f),h.placeholder=r,Wu(h,e,t)}var ef=Zu;function tf(e){return e.placeholder}var nf=tf,rf=9007199254740991,sf=/^(?:0|[1-9]\d*)$/;function of(e,t){var n=typeof e;return!!(t=null==t?rf:t)&&("number"==n||"symbol"!=n&&sf.test(e))&&e>-1&&e%1==0&&e<t}var af=Zl,cf=of,lf=Math.min;function uf(e,t){for(var n=e.length,r=lf(t.length,n),s=af(e);r--;){var i=t[r];e[r]=cf(i,n)?s[i]:void 0}return e}var ff="__lodash_placeholder__";function hf(e,t){for(var n=-1,r=e.length,s=0,i=[];++n<r;){var o=e[n];o!==t&&o!==ff||(e[n]=ff,i[s++]=n)}return i}var pf=hf,df=Sl,mf=Al,yf=Il,gf=yl,vf=ef,bf=nf,wf=uf,_f=pf,Of=Ka,Ef=1,Sf=2,kf=8,Nf=16,Af=128,Tf=512;function If(e,t,n,r,s,i,o,a,c,l){var u=t&Af,f=t&Ef,h=t&Sf,p=t&(kf|Nf),d=t&Tf,m=h?void 0:gf(e);function y(){for(var g=arguments.length,v=Array(g),b=g;b--;)v[b]=arguments[b];if(p)var w=bf(y),_=yf(v,w);if(r&&(v=df(v,r,s,p)),i&&(v=mf(v,i,o,p)),g-=_,p&&g<l){var O=_f(v,w);return vf(e,t,If,y.placeholder,n,v,O,a,c,l-g)}var E=f?n:this,S=h?E[e]:e;return g=v.length,a?v=wf(v,a):d&&g>1&&v.reverse(),u&&c<g&&(v.length=c),this&&this!==Of&&this instanceof y&&(S=m||gf(S)),S.apply(E,v)}return y}var Pf=If,xf=ja,Lf=yl,Cf=Pf,jf=ef,$f=nf,Mf=pf,Rf=Ka;function Df(e,t,n){var r=Lf(e);function s(){for(var i=arguments.length,o=Array(i),a=i,c=$f(s);a--;)o[a]=arguments[a];var l=i<3&&o[0]!==c&&o[i-1]!==c?[]:Mf(o,c);return(i-=l.length)<n?jf(e,t,Cf,s.placeholder,void 0,o,l,void 0,void 0,n-i):xf(this&&this!==Rf&&this instanceof s?r:e,this,o)}return s}var Uf=Df,Bf=ja,Vf=yl,Ff=Ka,Kf=1;function Gf(e,t,n,r){var s=t&Kf,i=Vf(e);function o(){for(var t=-1,a=arguments.length,c=-1,l=r.length,u=Array(l+a),f=this&&this!==Ff&&this instanceof o?i:e;++c<l;)u[c]=r[c];for(;a--;)u[c++]=arguments[++t];return Bf(f,s?n:this,u)}return o}var qf=Gf,Wf=Sl,Yf=Al,Jf=pf,zf="__lodash_placeholder__",Hf=1,Qf=2,Xf=4,Zf=8,eh=128,th=256,nh=Math.min;function rh(e,t){var n=e[1],r=t[1],s=n|r,i=s<(Hf|Qf|eh),o=r==eh&&n==Zf||r==eh&&n==th&&e[7].length<=t[8]||r==(eh|th)&&t[7].length<=t[8]&&n==Zf;if(!i&&!o)return e;r&Hf&&(e[2]=t[2],s|=n&Hf?0:Xf);var a=t[3];if(a){var c=e[3];e[3]=c?Wf(c,a,t[4]):a,e[4]=c?Jf(e[3],zf):t[4]}return(a=t[5])&&(c=e[5],e[5]=c?Yf(c,a,t[6]):a,e[6]=c?Jf(e[5],zf):t[6]),(a=t[7])&&(e[7]=a),r&eh&&(e[8]=null==e[8]?t[8]:nh(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}var sh=/\s/;function ih(e){for(var t=e.length;t--&&sh.test(e.charAt(t)););return t}var oh=ih,ah=/^\s+/;function ch(e){return e?e.slice(0,oh(e)+1).replace(ah,""):e}var lh=ac,uh=Ql,fh="[object Symbol]";function hh(e){return"symbol"==typeof e||uh(e)&&lh(e)==fh}var ph=ch,dh=lc,mh=hh,yh=NaN,gh=/^[-+]0x[0-9a-f]+$/i,vh=/^0b[01]+$/i,bh=/^0o[0-7]+$/i,wh=parseInt;function _h(e){if("number"==typeof e)return e;if(mh(e))return yh;if(dh(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=dh(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ph(e);var n=vh.test(e);return n||bh.test(e)?wh(e.slice(2),n?2:8):gh.test(e)?yh:+e}var Oh=_h,Eh=1/0,Sh=17976931348623157e292;function kh(e){return e?(e=Oh(e))===Eh||e===-Eh?(e<0?-1:1)*Sh:e==e?e:0:0===e?e:0}var Nh=kh;function Ah(e){var t=Nh(e),n=t%1;return t==t?n?t-n:t:0}var Th=ll,Ih=_l,Ph=Uf,xh=Pf,Lh=qf,Ch=Bl,jh=rh,$h=vu,Mh=Ku,Rh=Ah,Dh="Expected a function",Uh=1,Bh=2,Vh=8,Fh=16,Kh=32,Gh=64,qh=Math.max;function Wh(e,t,n,r,s,i,o,a){var c=t&Bh;if(!c&&"function"!=typeof e)throw new TypeError(Dh);var l=r?r.length:0;if(l||(t&=~(Kh|Gh),r=s=void 0),o=void 0===o?o:qh(Rh(o),0),a=void 0===a?a:Rh(a),l-=s?s.length:0,t&Gh){var u=r,f=s;r=s=void 0}var h=c?void 0:Ch(e),p=[e,t,n,r,s,u,f,i,o,a];if(h&&jh(p,h),e=p[0],t=p[1],n=p[2],r=p[3],s=p[4],!(a=p[9]=void 0===p[9]?c?0:e.length:qh(p[9]-l,0))&&t&(Vh|Fh)&&(t&=~(Vh|Fh)),t&&t!=Uh)d=t==Vh||t==Fh?Ph(e,t,a):t!=Kh&&t!=(Uh|Kh)||s.length?xh.apply(void 0,p):Lh(e,t,n,r);else var d=Ih(e,t,n);return Mh((h?Th:$h)(d,p),e,t)}var Yh=Wh,Jh=Yh,zh=nf,Hh=pf,Qh=32,Xh=sl((function(e,t){var n=Hh(t,zh(Xh));return Jh(e,Qh,void 0,t,n)}));Xh.placeholder={};var Zh=Xh;function ep(...e){const t=e[e.length-1];return va.num(t)||va.str(t)?Zh(ep,...e):ip.mapNode(t)||ip.documentNode(t)||ip.seqNode(t)?e.some((e=>t.has(e))):!!ip.pairNode(t)&&e.some((e=>Pa(t.key)===e))}function tp(e,t){return e.items.some((e=>{const n=Pa(e.key);return va.str(n)&&n.startsWith(t)}))}function np(...e){return function(t){var n;const[r,s]=e;return!(!(null==(n=t.has)?void 0:n.call(t,r))||2===e.length&&!(va.arr(r)?r.some((e=>t.get(e)===s)):t.get(r)===s))}}function rp(e,t){if(fr.isNode(e)&&fr.isNode(t)){if(fr.isScalar(e))return fr.isScalar(t);if(fr.isMap(e))return fr.isMap(t);if(fr.isSeq(e))return fr.isSeq(t);if(fr.isDocument(e))return fr.isDocument(t)}return!!fr.isPair(e)&&fr.isPair(t)}function sp(e,t){if(fr.isScalar(e))return fr.isScalar(t)?Pa(e)===Pa(t):Pa(e)===t;if(fr.isScalar(t))return fr.isScalar(e)?Pa(t)===Pa(e):Pa(t)===e;if(fr.isPair(e)&&fr.isPair(t))return!(Pa(e.key)!==Pa(t.key)||!rp(e.value,t.value))&&sp(e.value,t.value);if(fr.isMap(e)&&fr.isMap(t)){if(e.items.length===t.items.length)return!e.items.length||e.items.every((e=>{var n;return sp(e.value,null==(n=Te(t.items,e.key))?void 0:n.value)}))}else if(fr.isSeq(e)&&fr.isSeq(t))return e.items.length===t.items.length&&e.items.every(((e,n)=>sp(e,t.items[n])));return!1}const ip={nil:e=>va.nil(Pa(e)),equalTo:sp,fileSystem:e=>null!==e&&"object"==typeof e&&e._id_===hr.fs,reference:e=>va.reference(Pa(e)),root:e=>null!==e&&"object"==typeof e&&e._id_===hr.root,scalarNode:e=>Oa(e)===pr.Scalar,stringNode:e=>ip.scalarNode(e)&&va.str(e.value),pairNode:e=>Oa(e)===pr.Pair,mapNode:e=>Oa(e)===pr.Map,seqNode:e=>Oa(e)===pr.Seq,documentNode:e=>Oa(e)===pr.Document,sameNodeType:rp,action:np("actionType"),builtInFn:e=>ip.mapNode(e)&&tp(e,"=.builtIn"),component:e=>ip.componentLike(e)&&["children","style"].some((t=>e.has(t))),componentLike:np("type"),button:np("type","button"),canvas:np("type","canvas"),chart:np("type","chart"),chatList:np("type","chatList"),ecosDoc:np("type","ecosDoc"),divider:np("type","divider"),footer:np("type","footer"),header:np("type","header"),image:np("type","image"),label:np("type","label"),list:np("type","list"),listItem:np("type","listItem"),map:np("type","map"),page:np("type","page"),plugin:np("type","plugin"),pluginHead:np("type","pluginHead"),pluginBodyTail:np("type","pluginBodyTail"),popUp:np("type","popUp"),register:np("type","register"),select:np("type","select"),scrollView:np("type","scrollView"),textField:np("type","textField"),textView:np("type","textView"),video:np("type","video"),view:np("type","view"),emit:np("emit"),goto:np("goto"),if:np("if"),style:np(["align","axis","background","backgroundColor","border","borderColor","borderRadius","borderWidth","boxShadow","boxSizing","color","contentSize","display","float","flex","flexFlow","fontColor","fontSize","fontFamily","fontStyle","fontWeight","height","width","isHidden","justifyContent","left","letterSpacing","lineHeight","marginLeft","marginTop","marginRight","marginBottom","minWidth","maxWidth","minHeight","maxHeight","outline","padding","paddingTop","paddingLeft","paddingRight","paddingBottom","position","required","shadow","textAlign","textColor","textDecoration","textIndent","top","zIndex"]),ymlNode:e=>null!==e&&"object"==typeof e&&(fr.isNode(e)||fr.isPair(e)||fr.isDocument(e))};function op(e,t,{rootKey:n=""}={}){let r=t;if(fr.isScalar(t)&&"string"==typeof t.value&&(t=t.value),"string"==typeof t&&va.reference(t)){const{paths:e,isLocalRef:r}=ga(t);r||e[0]===n||(t=`${n=e[0]}.${t}`),t=wa(t)}if(t=ba(t),e instanceof Map){const n=t.shift(),r=e.get(n);return t.length?op(r,t):r}if(ip.ymlNode(e))switch(Oa(e)){case pr.Map:{const n=t.shift(),r=e.get(n,!0);return t.length?op(r,t):r}case pr.Seq:{const n=t.shift(),r=e.get(n);return t.length?op(r,t):r}case pr.Document:return t.length?op(e.contents,t):void 0}return ip.root(e)?op(e.value,t):t.length?ya.get(e,t):t===r?void 0:e}function ap(e,t){switch(Oa(e)){case pr.Scalar:case pr.Pair:case pr.Map:case pr.Seq:case pr.Document:return e;default:if(va.arr(e)){const t=new fr.YAMLSeq;return e.forEach((e=>t.add(ap(e)))),t}if(arguments.length>1||!va.und(t))return new fr.Pair(e,t);if(va.obj(e)){const t=new fr.YAMLMap;return ya.entries(e).forEach((([e,n])=>t.set(e,ap(n)))),t}return new fr.Scalar(e)}}function cp(e,t,n,r){if(fr.isScalar(t)&&"string"==typeof t.value&&(t=t.value),e instanceof Map)e.set(t,ap(n));else if(ip.ymlNode(e))switch(Oa(e)){case pr.Seq:case pr.Map:case pr.Document:{const s=r?"setIn":"set",i=r?ya.path(Pa(t)):t;return void e[s](i,ap(n))}case pr.Pair:return void(e.value=ap(n));case pr.Scalar:return void(e.value=n)}}var lp,up,fp=Object.defineProperty,hp=Object.getOwnPropertySymbols,pp=Object.prototype.hasOwnProperty,dp=Object.prototype.propertyIsEnumerable,mp=(e,t,n)=>t in e?fp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yp=(e,t)=>{for(var n in t||(t={}))pp.call(t,n)&&mp(e,n,t[n]);if(hp)for(var n of hp(t))dp.call(t,n)&&mp(e,n,t[n]);return e},gp=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},vp=(e,t,n)=>(gp(e,t,"read from private field"),n?n.call(e):t.get(e)),bp=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},wp=(e,t,n,r)=>(gp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class _p extends ha{constructor(){super(),bp(this,lp,void 0),bp(this,up,void 0),this.value=new Map,Object.defineProperty(this,"_id_",{configurable:!1,enumerable:!1,writable:!0,value:hr.root})}[Symbol.iterator](){if(vp(this,up))return vp(this,up).getIterator();const e=Object.entries(this.value);return{next:()=>({get value(){return e.pop()},get done(){return!e.length}})}}init(){return this.value.clear(),this}clear(){return this.value.clear(),this}get(e){return op(this.value,e)}has(e){var t;const n=(ip.scalarNode(e)&&va.str(e.value)&&e.value||va.arr(e)&&e.join(".")||va.str(e)&&e||"").split(".");let r=this.value;for(;n.length;){if(!(e=n.shift()))return""===e;if(!(null==(t=null==r?void 0:r.has)?void 0:t.call(r,e)))return!1;r=r.get(e)}return!0}set(e,t){if(!(null==t||fr.isNode(t)||fr.isDocument(t)||fr.isPair(t)||fr.isMap(t))){const n=this.toDocument(t);fr.isMap(n.contents)&&1===n.contents.items.length&&n.has(e)&&(n.contents=n.get(e)),t=n}return cp(this.value,Pa(e),t),this}remove(e){return this.value.delete(Pa(e)),this}toDocument(e,t){return t=yp({logLevel:"debug",lineCounter:new fr.LineCounter,keepSourceTokens:!0,prettyErrors:!0},t),va.str(e)?fr.parseDocument(e,t):new fr.Document(e,t)}toJSON(){return[...this].reduce(((e,[t,n])=>(e[t]=va.obj(n)&&"toJSON"in n?n.toJSON():n,e)),{})}toString(){return JSON.stringify(this.toJSON())}loadFileSync(e,t){var n,r,s;if(!vp(this,lp))throw new Error("Cannot load a file without a fileSystem registered");if(!vp(this,lp).readFile)throw new Error("Cannot load a file to DocRoot. Missing readFile implementation");if(vp(this,lp).existsSync&&!vp(this,lp).existsSync(e))throw new Error(`The file at path ${e} does not exist`);const i=vp(this,lp).readFile(e,"utf8");if(!i)throw new Error(`The file at ${e} yielded empty data`);let o=this.toDocument(i,null==t?void 0:t.parseOptions),a=null!=(s=null==(r=(n=vp(this,lp)).getBaseName)?void 0:r.call(n,e))?s:"",c="";if(va.fnc(null==t?void 0:t.renameFile)){const e=null==t?void 0:t.renameFile(a);va.str(va.str(e))&&(a=e)}if(va.fnc(null==t?void 0:t.renameKey)){const e=null==t?void 0:t.renameKey(a);va.str(e)&&(c=e)}return this.set(c,o),o}use(e){return ip.fileSystem(e)?wp(this,lp,e):e instanceof Ia&&wp(this,up,e),this}}lp=new WeakMap,up=new WeakMap;var Op=Object.defineProperty,Ep=Object.getOwnPropertySymbols,Sp=Object.prototype.hasOwnProperty,kp=Object.prototype.propertyIsEnumerable,Np=(e,t,n)=>t in e?Op(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ap=(e,t)=>{for(var n in t||(t={}))Sp.call(t,n)&&Np(e,n,t[n]);if(Ep)for(var n of Ep(t))kp.call(t,n)&&Np(e,n,t[n]);return e};class Tp extends da{constructor(){super(),super.on("addDiagnostic",((e,t,n)=>{if(n)switch(Oa(n)){case pr.Scalar:case pr.Pair:case pr.Map:case pr.Seq:case pr.Document:if(n.srcToken){const{indent:t,items:r,offset:s,props:i,start:o,end:a,type:c}=n.srcToken||{},l=n.range;o&&e.set("start",o),a&&e.set("end",a),t&&e.set("indent",t),r&&e.set("items",r),s&&e.set("offset",s),i&&e.set("props",i),l&&e.set("range",l),c&&e.set("type",c)}case pr.Unknown:}}))}createHelpers(e){const t=super.createHelpers(e);return Ap({},t)}use(e){return super.use(e),(va.root(e)||e instanceof _p)&&e.use(new Ia(this)),this}codeExists(e,t){return new Ea(ya.toArr(t)).find(e)}messageExists(e,t){return new Ea(ya.toArr(t)).find(e)}}var Ip=Object.defineProperty,Pp=Object.getOwnPropertySymbols,xp=Object.prototype.hasOwnProperty,Lp=Object.prototype.propertyIsEnumerable,Cp=(e,t,n)=>t in e?Ip(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jp=(e,t)=>{for(var n in t||(t={}))xp.call(t,n)&&Cp(e,n,t[n]);if(Pp)for(var n of Pp(t))Lp.call(t,n)&&Cp(e,n,t[n]);return e};const $p={logLevel:"debug",keepSourceTokens:!0,prettyErrors:!0},Mp=fr.isScalar,Rp=fr.isPair,Dp=fr.isMap,Up=fr.isSeq;function Bp(e,t){const n=jp(jp({},$p),t);return"string"==typeof e?fr.parseDocument(e,n):null!==e&&"object"==typeof e?new fr.Document(e,n):void 0}function Vp(e,t){return"string"==typeof e?e:null!==e?fr.stringify(e,jp(jp({},$p),t)):""}function Fp(e,t){return fr.isDocument(e)?e.toJSON():"string"==typeof e?fr.parse(e,jp(jp({},$p),t)):e}const Kp=fr.visit;function Gp(e){switch(_a(e)){case"Map":case"Document":return"object";case"Scalar":{const t=typeof e.value;switch(t){case"boolean":case"function":case"undefined":case"number":case"string":return t}break}case"Seq":return"array";default:return null}}function qp(e){return ip.action(e)?dr.Action:ip.builtInFn(e)?dr.BuiltInFn:ip.component(e)?dr.Component:ip.emit(e)?dr.Emit:ip.goto(e)?dr.Goto:ip.if(e)?dr.If:ip.style(e)?dr.Style:dr.Unknown}fr.visitAsync;var Wp,Yp=Object.defineProperty,Jp=Object.defineProperties,zp=Object.getOwnPropertyDescriptor,Hp=Object.getOwnPropertyDescriptors,Qp=Object.getOwnPropertySymbols,Xp=Object.prototype.hasOwnProperty,Zp=Object.prototype.propertyIsEnumerable,ed=(e,t,n)=>t in e?Yp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,td=(e,t)=>{for(var n in t||(t={}))Xp.call(t,n)&&ed(e,n,t[n]);if(Qp)for(var n of Qp(t))Zp.call(t,n)&&ed(e,n,t[n]);return e},nd=(e,t)=>Jp(e,Hp(t)),rd=(e,t,n,r)=>{for(var s,i=r>1?void 0:r?zp(t,n):t,o=e.length-1;o>=0;o--)(s=e[o])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&Yp(t,n,i),i},sd=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},id=(e,t,n)=>(sd(e,t,"read from private field"),n?n.call(e):t.get(e)),od=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ad=(e,t,n,r)=>(sd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),cd=(e,t,n)=>new Promise(((r,s)=>{var i=e=>{try{a(n.next(e))}catch(e){s(e)}},o=e=>{try{a(n.throw(e))}catch(e){s(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);a((n=n.apply(e,t)).next())}));function ld(){return{sync:{history:[],queue:[]},async:{history:[],queue:[]}}}let ud=ld();function fd(e){switch(e){case"async":case"sync":return ud[e];default:return ud}}function hd(){ud=ld()}function pd(){const e=function(e,t){return function n(r,s,i){const{data:o,helpers:a,init:c,root:l}=s||{},u=nd(td({data:o},a),{root:l});if(t){if(!(null==i?void 0:i.calledInit)&&c){const e=nd(td({},i),{calledInit:!0});return c(u).then((()=>n.call(this,r,s,e))).catch((e=>{throw e instanceof Error?e:new Error(String(e))}))}}else null==c||c(u);if(fr.isNode(r)||fr.isDocument(r)){const n=e.call(null,r,s);return va.promise(n)?n.then((e=>e(r,dd(this.callback,t,s)))):("has"in r&&r.has("init")&&n(r.get("init"),dd(this.callback,t,s)),n(r,dd(this.callback,t,s)))}}};return function(t,n,r){const s="visitAsync"===n;r.configurable=!1,r.enumerable=!1,r.value=e(t[n],s)}}function dd(e,t,{asserters:n,builtIn:r,data:s,page:i,root:o,helpers:a}){function c({asserters:t,builtIn:n,clearState:r,getState:s,isAsync:i,data:o,node:a,root:c,key:l,path:u,page:f}){const h=()=>s(i?"async":"sync"),p=Oa(a);for(const e of ya.toArr(t))if(null==e?void 0:e.cond(p,a)){const t=e.fn(arguments[0]);if(!va.und(t))return t}if(Mp(a));else if(Rp(a));else if(Dp(a)){const e=qp(a);switch(e){case dr.Action:case dr.BuiltInFn:case dr.Component:case dr.Emit:case dr.Goto:case dr.If:{const t={};t.kind=e,t.node=a,t.status=mr.Pending,h().queue.push(t);break}case dr.Style:}}else Up(a);return null==e?void 0:e(arguments[0])}function l(e){if(null!=e){if(e===fr.visitAsync.BREAK)return fr.visitAsync.BREAK;if(e===fr.visitAsync.REMOVE)return fr.visitAsync.REMOVE;if(e===fr.visitAsync.SKIP)return fr.visitAsync.SKIP;if(fr.isNode(e))return e;if(va.num(e))return e}}function u(e,...[t,u,f]){const h=c(nd(td(td({},e),a),{asserters:n,builtIn:r,data:s,key:t,node:u,path:f,page:i,root:o}));return va.promise(h)?h.then(l).catch((e=>{throw e instanceof Error?e:new Error(String(e))})):l(h)}return u.bind(null,{clearState:hd,getState:fd,isAsync:t})}class md extends pa{constructor(){super(...arguments),od(this,Wp,void 0)}get callback(){return id(this,Wp)}visit(){return fr.visit}visitAsync(){return cd(this,null,(function*(){return fr.visitAsync}))}use(e){return ad(this,Wp,e),this}}Wp=new WeakMap,rd([pd()],md.prototype,"visit",1),rd([pd()],md.prototype,"visitAsync",1);var yd=Object.defineProperty,gd=Object.defineProperties,vd=Object.getOwnPropertyDescriptors,bd=Object.getOwnPropertySymbols,wd=Object.prototype.hasOwnProperty,_d=Object.prototype.propertyIsEnumerable,Od=(e,t,n)=>t in e?yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ed=(e,t)=>{for(var n in t||(t={}))wd.call(t,n)&&Od(e,n,t[n]);if(bd)for(var n of bd(t))_d.call(t,n)&&Od(e,n,t[n]);return e},Sd=(e,t)=>gd(e,vd(t)),kd=(e,t)=>{var n={};for(var r in e)wd.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&bd)for(var r of bd(e))t.indexOf(r)<0&&_d.call(e,r)&&(n[r]=e[r]);return n};function Nd(e,t={}){var n=t,{rootKey:r}=n,s=kd(n,["rootKey"]);let i,o={depth:0,initialValue:void 0,paths:[],results:[]};function a(t,n){var s,o,a;switch(n.type){case 1:{const o=ga(n.reference),{isLocalRef:a,paths:c,ref:l}=o;a&&r&&c.unshift(r),i=op(null==e?void 0:e.value,c[0],{rootKey:r});const u=t.results.concat({depth:n.depth,initiator:l,key:c[0],value:ip.ymlNode(i)?null==(s=null==i?void 0:i.toJSON)?void 0:s.call(i):i});return Sd(Ed({},t),{depth:n.depth,initialValue:n.reference,paths:c.slice(1),results:u})}case 2:{const n=[...t.results];i=op(i,t.paths[0],{rootKey:r}),n.push({initiator:t.initialValue,depth:t.depth,key:t.paths[0],value:ip.ymlNode(i)?null==(o=null==i?void 0:i.toJSON)?void 0:o.call(i):i});let s,c=t.paths.slice(1);if(va.str(i)&&va.reference(i)||ip.scalarNode(i)&&ip.reference(i)){let o=ga(Pa(i)),l=!o.isLocalRef,u=!0,f=r;l&&o.paths[0]===r||(u=!1),l&&(u?(o.paths=o.paths.slice(1),o.path=o.paths.join("."),c.unshift(...o.paths)):f=o.paths[0]),s=Td({depth:t.depth,node:o.ref,root:e,rootKey:f});const h=null==(a=s.results)?void 0:a.slice(l?0:1).map(((e,n,r)=>{var i;const o=va.num(e.depth)?e.depth:t.depth,a=null==(i=r[n-1])?void 0:i.key,c=s.initialValue,l=Sd(Ed({},e),{depth:o,initiator:c});return a&&(l.prevKey=a),l.path=r.map((e=>e.key)),l}));n.push(...h),i=Pa(s.value)}return Sd(Ed({},t),{paths:c,results:n})}}}function c(e){var t;const n=o;o=a(o,e),null==(t=null==s?void 0:s.onUpdate)||t.call(s,n,o)}return{getState:()=>Sd(Ed({},o),{value:i}),dispatch:c}}function Ad(e,t=""){const{isLocalRef:n,paths:r}=ga(e);return n?t:r[0]}function Td({depth:e=-1,node:t,root:n,rootKey:r,subscribe:s}){const i=Pa(t),o=Ad(i,r),a=Nd(n,Ed({rootKey:o},s)),{dispatch:c,getState:l}=a;return c({type:1,reference:i,depth:++e}),l().paths.forEach((()=>c({type:2}))),Ed({reference:i},ya.omit(l(),["paths"]))}function Id(e){return ip.scalarNode(e)&&va.str(e.value)&&ip.reference(e)||va.str(e)&&e.startsWith(".")}function Pd(e,t,{root:n,rootKey:r}={}){let s,i;if((va.str(t)||fr.isScalar(t))&&Id(t)&&(i=va.str(t)?t:t.value),ip.nil(e))return i?Td({node:i,root:n,rootKey:r}).value:t;switch(Oa(e)){case pr.Map:case pr.Seq:case pr.Pair:case pr.Scalar:case pr.Document:switch(s=ap(i?Td({node:i,root:n,rootKey:r}).value:t),Oa(s)){case pr.Unknown:case pr.Seq:case pr.Pair:case pr.Scalar:ip.seqNode(e)&&(ip.seqNode(s)?s.items.forEach((t=>e.add(ap(t)))):ip.pairNode(s)?e.add(ap(s.value)):e.add(ap(s)));break;case pr.Map:case pr.Document:{let t;if(ip.mapNode(s))t=s;else{const e=s;ip.mapNode(e.contents)&&(t=e.contents)}t?ip.mapNode(t)&&t.items.forEach((t=>{ip.mapNode(e)&&e.set(t.key,t.value)})):null!=s&&(Array.isArray(s)||"object"==typeof s&&Object.entries(s).forEach((([t,n])=>e.set(Pa(t),ap(n)))));break}}return e;default:return e}}function xd(e,t,n){return ip.scalarNode(e)||ip.pairNode(e)?e.value=t:(ip.mapNode(e)||ip.seqNode(e)||ip.root(e))&&e.set(t,n),e}function Ld(e){const t=e.get("if");let n;return n=ip.seqNode(t)?[t.get(0,!1),t.get(1,!1),t.get(2,!1)]:t.slice(0,3),n}function Cd(e){const[t,n,r]=Ld(e);return"function"==typeof t?t()?n:r:ip.scalarNode(t)?t.value?n:r:ip.pairNode(t)?Pa(t.value)?n:r:t?n:r}var jd=Yh,$d=nf,Md=pf,Rd=64,Dd=sl((function(e,t){var n=Md(t,$d(Dd));return jd(e,Rd,void 0,t,n)}));Dd.placeholder={};var Ud=Dd;const{BREAK:Bd}=Kp,Vd=Gp;function Fd(e,t,n,r){switch(e){case"popUpView":case"viewTag":{let s=!1,i=r.get(n),o=t.get(e,!1);if(va.reference(o)&&(o=Pa(Td({node:o,root:r,rootKey:n}).value)),i){const t=i.get("components");t&&Kp(t,{Map:(t,i)=>{if(s)return Bd;if(ep("type",e,i)){const t=i.get(e,!0);if(ip.reference(t)){const e=Td({node:t,root:r,rootKey:n});if(!va.und(e.value)&&(s=e.value===o,s))return Bd}else if(Pa(t)===o)return s=!0,Bd}}})}return s}default:return!1}}function Kd(e,t){var n,r;return null==(r=null==(n=null==t?void 0:t.pages)?void 0:n.includes)?void 0:r.call(n,e)}function Gd(e,t,n=""){return!va.und(Td({node:Pa(e),root:t,rootKey:n}).value)}function qd(e,t,n,r){let s=null!=r?r:"",i=[];if(va.str(e))if(va.reference(e)){const t=wa(e);if(va.localReference(e))i.push(...t.split("."));else{const e=t.split(".");s=e.shift(),i.push(...e)}}else if(va.rootKey(e)){const t=e.split(".");s=t[0],i.push(...t.slice(1))}else i.push(...e.split("."));cp(n.get(s),i,t,!0)}var Wd=Object.freeze({__proto__:null,getJsType:Vd,hasBinding:Fd,hasPageInAppConfig:Kd,refResolvesToAnyValue:Gd,set:qd}),Yd=Object.defineProperty,Jd=Object.defineProperties,zd=Object.getOwnPropertyDescriptors,Hd=Object.getOwnPropertySymbols,Qd=Object.prototype.hasOwnProperty,Xd=Object.prototype.propertyIsEnumerable,Zd=(e,t,n)=>t in e?Yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const em=(tm=((e,t)=>{for(var n in t||(t={}))Qd.call(t,n)&&Zd(e,n,t[n]);if(Hd)for(var n of Hd(t))Xd.call(t,n)&&Zd(e,n,t[n]);return e})({},Wd),Jd(tm,zd({is:ip})));var tm;function nm(e,...t){return ya.toArr(e).some((e=>null==e?void 0:e(...t)))}function rm(e,...t){return ya.toArr(null!=e?e:[]).every((e=>null==e?void 0:e(...t)))}function sm(e,t){switch(e){case pr.Scalar:return t.scalar;case pr.Pair:return t.pair;case pr.Map:return t.map;case pr.Seq:return t.seq;case pr.Document:return t.doc;default:return t.node}}function im({cond:e,fn:t}){function n(e,t,r){return va.fnc(r)?r(t):va.arr(r)?r.every((r=>n(e,t,r))):!(!va.obj(r)||!nm(sm(e,r),t))}return{cond:Ud(n,e),fn:Ud(t,em)}}function om({cond:e,fn:t}){function n(e,t,r){return va.fnc(r)?r(t):va.arr(r)?r.some((r=>n(e,t,r))):!(!va.obj(r)||!rm(sm(e,r),t))}return{cond:Ud(n,e),fn:Ud(t,em)}}var am=im({cond:ip.builtInFn,fn({add:e,data:t,builtIn:n,node:r,page:s="",root:i},{getJsType:o,set:a}){var c;if(ip.builtInFn(r)){const l=Pa(null==(c=r.items[0])?void 0:c.key),u=r.get(l),f=null==l?void 0:l.replace("=.builtIn.","");if(ip.mapNode(u)){const c=u.get("dataIn",!1),h=u.get("dataOut",!1),p=ya.get(n,f);e((e=>{if(ya.has(n,f)||e.error(ma.DiagnosticCode.BUILTIN_FUNCTION_MISSING,{key:l}),va.fnc(p)){const e={builtIns:n,builtInKey:l,builtInObject:u,builtInPath:f,data:t,dataOut:h,node:r,page:s,root:i};let o=p(va.fnc(null==n?void 0:n.normalize)?null==n?void 0:n.normalize(c,e):c,e);va.str(o)&&va.reference(o)&&(o=Td({node:o,root:i,rootKey:s}).value),va.str(h)&&a(h,o,i,s)}else e.error(ma.DiagnosticCode.BUILTIN_FUNCTION_NOT_A_FUNCTION,{key:l,type:o(p)})}))}}}}),cm={exports:{}};!function(e,t){!function(e,n){n(t)}(0,(function(e){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Nr?Nr:"undefined"!=typeof self?self:{};function n(e){return e}var r=n,s="object"==typeof t&&t&&t.Object===Object&&t,i="object"==typeof self&&self&&self.Object===Object&&self,o=s||i||Function("return this")(),a=o.Symbol,c=a,l=Object.prototype,u=l.hasOwnProperty,f=l.toString,h=c?c.toStringTag:void 0;function p(e){var t=u.call(e,h),n=e[h];try{e[h]=void 0;var r=!0}catch(e){}var s=f.call(e);return r&&(t?e[h]=n:delete e[h]),s}var d=p,m=Object.prototype.toString;function y(e){return m.call(e)}var g=d,v=y,b="[object Null]",w="[object Undefined]",_=a?a.toStringTag:void 0;function O(e){return null==e?void 0===e?w:b:_&&_ in Object(e)?g(e):v(e)}var E=O;function S(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var k=S,N=E,A=k,T="[object AsyncFunction]",I="[object Function]",P="[object GeneratorFunction]",x="[object Proxy]";function L(e){if(!A(e))return!1;var t=N(e);return t==I||t==P||t==T||t==x}var C=L,j=o["__core-js_shared__"],$=function(){var e=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function M(e){return!!$&&$ in e}var R=M,D=Function.prototype.toString;function U(e){if(null!=e){try{return D.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var B=C,V=R,F=k,K=U,G=/[\\^$.*+?()[\]{}|]/g,q=/^\[object .+?Constructor\]$/,W=Function.prototype,Y=Object.prototype,J=W.toString,z=Y.hasOwnProperty,H=RegExp("^"+J.call(z).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Q(e){return!(!F(e)||V(e))&&(B(e)?H:q).test(K(e))}function X(e,t){return null==e?void 0:e[t]}var Z=Q,ee=X;function te(e,t){var n=ee(e,t);return Z(n)?n:void 0}var ne=te,re=ne(o,"WeakMap"),se=re&&new re,ie=se,oe=ie?function(e,t){return ie.set(e,t),e}:r,ae=k,ce=Object.create,le=function(){function e(){}return function(t){if(!ae(t))return{};if(ce)return ce(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ue=le,fe=k;function he(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ue(e.prototype),r=e.apply(n,t);return fe(r)?r:n}}var pe=he,de=pe,me=o,ye=1;function ge(e,t,n){var r=t&ye,s=de(e);function i(){return(this&&this!==me&&this instanceof i?s:e).apply(r?n:this,arguments)}return i}var ve=ge;function be(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var we=be,_e=Math.max;function Oe(e,t,n,r){for(var s=-1,i=e.length,o=n.length,a=-1,c=t.length,l=_e(i-o,0),u=Array(c+l),f=!r;++a<c;)u[a]=t[a];for(;++s<o;)(f||s<i)&&(u[n[s]]=e[s]);for(;l--;)u[a++]=e[s++];return u}var Ee=Oe,Se=Math.max;function ke(e,t,n,r){for(var s=-1,i=e.length,o=-1,a=n.length,c=-1,l=t.length,u=Se(i-a,0),f=Array(u+l),h=!r;++s<u;)f[s]=e[s];for(var p=s;++c<l;)f[p+c]=t[c];for(;++o<a;)(h||s<i)&&(f[p+n[o]]=e[s++]);return f}var Ne=ke;function Ae(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Te=Ae;function Ie(){}var Pe=Ie,xe=le,Le=Pe,Ce=4294967295;function je(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}je.prototype=xe(Le.prototype),je.prototype.constructor=je;var $e=je;function Me(){}var Re=se,De=Re?function(e){return Re.get(e)}:Me,Ue={},Be=Object.prototype.hasOwnProperty;function Ve(e){for(var t=e.name+"",n=Ue[t],r=Be.call(Ue,t)?n.length:0;r--;){var s=n[r],i=s.func;if(null==i||i==e)return s.name}return t}var Fe=Ve,Ke=le,Ge=Pe;function qe(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}qe.prototype=Ke(Ge.prototype),qe.prototype.constructor=qe;var We=qe,Ye=Array.isArray;function Je(e){return null!=e&&"object"==typeof e}var ze=Je;function He(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Qe=He,Xe=$e,Ze=We,et=Qe;function tt(e){if(e instanceof Xe)return e.clone();var t=new Ze(e.__wrapped__,e.__chain__);return t.__actions__=et(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var nt=$e,rt=We,st=Pe,it=Ye,ot=ze,at=tt,ct=Object.prototype.hasOwnProperty;function lt(e){if(ot(e)&&!it(e)&&!(e instanceof nt)){if(e instanceof rt)return e;if(ct.call(e,"__wrapped__"))return at(e)}return new rt(e)}lt.prototype=st.prototype,lt.prototype.constructor=lt;var ut=$e,ft=De,ht=Fe,pt=lt;function dt(e){var t=ht(e),n=pt[t];if("function"!=typeof n||!(t in ut.prototype))return!1;if(e===n)return!0;var r=ft(n);return!!r&&e===r[0]}var mt=dt,yt=800,gt=16,vt=Date.now;function bt(e){var t=0,n=0;return function(){var r=vt(),s=gt-(r-n);if(n=r,s>0){if(++t>=yt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wt=bt,_t=wt(oe),Ot=/\{\n\/\* \[wrapped with (.+)\] \*/,Et=/,? & /;function St(e){var t=e.match(Ot);return t?t[1].split(Et):[]}var kt=St,Nt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function At(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Nt,"{\n/* [wrapped with "+t+"] */\n")}var Tt=At;function It(e){return function(){return e}}var Pt=It,xt=ne,Lt=function(){try{var e=xt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ct=Pt,jt=Lt,$t=jt?function(e,t){return jt(e,"toString",{configurable:!0,enumerable:!1,value:Ct(t),writable:!0})}:r,Mt=wt($t);function Rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Dt(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}function Ut(e){return e!=e}function Bt(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var Vt=Dt,Ft=Ut,Kt=Bt;function Gt(e,t,n){return t==t?Kt(e,t,n):Vt(e,Ft,n)}var qt=Gt;function Wt(e,t){return!(null==e||!e.length)&&qt(e,t,0)>-1}var Yt=Rt,Jt=Wt,zt=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function Ht(e,t){return Yt(zt,(function(n){var r="_."+n[0];t&n[1]&&!Jt(e,r)&&e.push(r)})),e.sort()}var Qt=kt,Xt=Tt,Zt=Mt,en=Ht;function tn(e,t,n){var r=t+"";return Zt(e,Xt(r,en(Qt(r),n)))}var nn=tn,rn=mt,sn=_t,on=nn,an=1,cn=2,ln=4,un=8,fn=32,hn=64;function pn(e,t,n,r,s,i,o,a,c,l){var u=t&un;t|=u?fn:hn,(t&=~(u?hn:fn))&ln||(t&=~(an|cn));var f=[e,t,s,u?i:void 0,u?o:void 0,u?void 0:i,u?void 0:o,a,c,l],h=n.apply(void 0,f);return rn(e)&&sn(h,f),h.placeholder=r,on(h,e,t)}var dn=pn;function mn(e){return e.placeholder}var yn=mn,gn=9007199254740991,vn=/^(?:0|[1-9]\d*)$/;function bn(e,t){var n=typeof e;return!!(t=null==t?gn:t)&&("number"==n||"symbol"!=n&&vn.test(e))&&e>-1&&e%1==0&&e<t}var wn=bn,_n=Qe,On=wn,En=Math.min;function Sn(e,t){for(var n=e.length,r=En(t.length,n),s=_n(e);r--;){var i=t[r];e[r]=On(i,n)?s[i]:void 0}return e}var kn="__lodash_placeholder__";function Nn(e,t){for(var n=-1,r=e.length,s=0,i=[];++n<r;){var o=e[n];o!==t&&o!==kn||(e[n]=kn,i[s++]=n)}return i}var An=Ee,Tn=Ne,In=Te,Pn=pe,xn=dn,Ln=yn,Cn=Sn,jn=Nn,$n=o,Mn=1,Rn=2,Dn=8,Un=16,Bn=128,Vn=512;function Fn(e,t,n,r,s,i,o,a,c,l){var u=t&Bn,f=t&Mn,h=t&Rn,p=t&(Dn|Un),d=t&Vn,m=h?void 0:Pn(e);function y(){for(var g=arguments.length,v=Array(g),b=g;b--;)v[b]=arguments[b];if(p)var w=Ln(y),_=In(v,w);if(r&&(v=An(v,r,s,p)),i&&(v=Tn(v,i,o,p)),g-=_,p&&g<l){var O=jn(v,w);return xn(e,t,Fn,y.placeholder,n,v,O,a,c,l-g)}var E=f?n:this,S=h?E[e]:e;return g=v.length,a?v=Cn(v,a):d&&g>1&&v.reverse(),u&&c<g&&(v.length=c),this&&this!==$n&&this instanceof y&&(S=m||Pn(S)),S.apply(E,v)}return y}var Kn=Fn,Gn=we,qn=pe,Wn=Kn,Yn=dn,Jn=yn,zn=Nn,Hn=o;function Qn(e,t,n){var r=qn(e);function s(){for(var i=arguments.length,o=Array(i),a=i,c=Jn(s);a--;)o[a]=arguments[a];var l=i<3&&o[0]!==c&&o[i-1]!==c?[]:zn(o,c);return(i-=l.length)<n?Yn(e,t,Wn,s.placeholder,void 0,o,l,void 0,void 0,n-i):Gn(this&&this!==Hn&&this instanceof s?r:e,this,o)}return s}var Xn=Qn,Zn=we,er=pe,tr=o,nr=1;function rr(e,t,n,r){var s=t&nr,i=er(e);function o(){for(var t=-1,a=arguments.length,c=-1,l=r.length,u=Array(l+a),f=this&&this!==tr&&this instanceof o?i:e;++c<l;)u[c]=r[c];for(;a--;)u[c++]=arguments[++t];return Zn(f,s?n:this,u)}return o}var sr=rr,ir=Ee,or=Ne,ar=Nn,cr="__lodash_placeholder__",lr=1,ur=2,fr=4,hr=8,pr=128,dr=256,mr=Math.min;function yr(e,t){var n=e[1],r=t[1],s=n|r,i=s<(lr|ur|pr),o=r==pr&&n==hr||r==pr&&n==dr&&e[7].length<=t[8]||r==(pr|dr)&&t[7].length<=t[8]&&n==hr;if(!i&&!o)return e;r&lr&&(e[2]=t[2],s|=n&lr?0:fr);var a=t[3];if(a){var c=e[3];e[3]=c?ir(c,a,t[4]):a,e[4]=c?ar(e[3],cr):t[4]}return(a=t[5])&&(c=e[5],e[5]=c?or(c,a,t[6]):a,e[6]=c?ar(e[5],cr):t[6]),(a=t[7])&&(e[7]=a),r&pr&&(e[8]=null==e[8]?t[8]:mr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}var gr=/\s/;function vr(e){for(var t=e.length;t--&&gr.test(e.charAt(t)););return t}var br=vr,wr=/^\s+/;function _r(e){return e?e.slice(0,br(e)+1).replace(wr,""):e}var Or=E,Er=ze,Sr="[object Symbol]";function kr(e){return"symbol"==typeof e||Er(e)&&Or(e)==Sr}var Ar=kr,Tr=_r,Ir=k,Pr=Ar,xr=NaN,Lr=/^[-+]0x[0-9a-f]+$/i,Cr=/^0b[01]+$/i,jr=/^0o[0-7]+$/i,$r=parseInt;function Mr(e){if("number"==typeof e)return e;if(Pr(e))return xr;if(Ir(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ir(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Tr(e);var n=Cr.test(e);return n||jr.test(e)?$r(e.slice(2),n?2:8):Lr.test(e)?xr:+e}var Rr=Mr,Dr=1/0,Ur=17976931348623157e292;function Br(e){return e?(e=Rr(e))===Dr||e===-Dr?(e<0?-1:1)*Ur:e==e?e:0:0===e?e:0}var Vr=Br;function Fr(e){var t=Vr(e),n=t%1;return t==t?n?t-n:t:0}var Kr=oe,Gr=ve,qr=Xn,Wr=Kn,Yr=sr,Jr=De,zr=yr,Hr=_t,Qr=nn,Xr=Fr,Zr="Expected a function",es=1,ts=2,ns=8,rs=16,ss=32,is=64,os=Math.max;function as(e,t,n,r,s,i,o,a){var c=t&ts;if(!c&&"function"!=typeof e)throw new TypeError(Zr);var l=r?r.length:0;if(l||(t&=~(ss|is),r=s=void 0),o=void 0===o?o:os(Xr(o),0),a=void 0===a?a:Xr(a),l-=s?s.length:0,t&is){var u=r,f=s;r=s=void 0}var h=c?void 0:Jr(e),p=[e,t,n,r,s,u,f,i,o,a];if(h&&zr(p,h),e=p[0],t=p[1],n=p[2],r=p[3],s=p[4],!(a=p[9]=void 0===p[9]?c?0:e.length:os(p[9]-l,0))&&t&(ns|rs)&&(t&=~(ns|rs)),t&&t!=es)d=t==ns||t==rs?qr(e,t,a):t!=ss&&t!=(es|ss)||s.length?Wr.apply(void 0,p):Yr(e,t,n,r);else var d=Gr(e,t,n);return Qr((h?Kr:Hr)(d,p),e,t)}var cs=as,ls=8;function us(e,t,n){var r=cs(e,ls,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=us.placeholder,r}us.placeholder={};var fs=us;function hs(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var ps=hs,ds=E,ms=ze,ys="[object Arguments]";function gs(e){return ms(e)&&ds(e)==ys}var vs=gs,bs=ze,ws=Object.prototype,_s=ws.hasOwnProperty,Os=ws.propertyIsEnumerable,Es=vs(function(){return arguments}())?vs:function(e){return bs(e)&&_s.call(e,"callee")&&!Os.call(e,"callee")},Ss=Es,ks=Ss,Ns=Ye,As=a?a.isConcatSpreadable:void 0;function Ts(e){return Ns(e)||ks(e)||!!(As&&e&&e[As])}var Is=ps,Ps=Ts;function xs(e,t,n,r,s){var i=-1,o=e.length;for(n||(n=Ps),s||(s=[]);++i<o;){var a=e[i];t>0&&n(a)?t>1?xs(a,t-1,n,r,s):Is(s,a):r||(s[s.length]=a)}return s}var Ls=xs;function Cs(e){return null!=e&&e.length?Ls(e,1):[]}var js=Cs,$s=we,Ms=Math.max;function Rs(e,t,n){return t=Ms(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=Ms(r.length-t,0),o=Array(i);++s<i;)o[s]=r[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=r[s];return a[t]=n(o),$s(e,this,a)}}var Ds=js,Us=Rs,Bs=Mt;function Vs(e){return Bs(Us(e,void 0,Ds),e+"")}var Fs=We,Ks=Vs,Gs=De,qs=Fe,Ws=Ye,Ys=mt,Js="Expected a function",zs=8,Hs=32,Qs=128,Xs=256;function Zs(e){return Ks((function(t){var n=t.length,r=n,s=Fs.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new TypeError(Js);if(s&&!o&&"wrapper"==qs(i))var o=new Fs([],!0)}for(r=o?r:n;++r<n;){i=t[r];var a=qs(i),c="wrapper"==a?Gs(i):void 0;o=c&&Ys(c[0])&&c[1]==(Qs|zs|Hs|Xs)&&!c[4].length&&1==c[9]?o[qs(c[0])].apply(o,c[3]):1==i.length&&Ys(i)?o[a]():o.thru(i)}return function(){var e=arguments,r=e[0];if(o&&1==e.length&&Ws(r))return o.plant(r).value();for(var s=0,i=n?t[s].apply(this,e):r;++s<n;)i=t[s].call(this,i);return i}}))}var ei=Zs(!0),ti=Ye,ni=Ar,ri=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,si=/^\w*$/;function ii(e,t){if(ti(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ni(e))||si.test(e)||!ri.test(e)||null!=t&&e in Object(t)}var oi=ii,ai=ne(Object,"create"),ci=ai;function li(){this.__data__=ci?ci(null):{},this.size=0}var ui=li;function fi(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hi=fi,pi=ai,di="__lodash_hash_undefined__",mi=Object.prototype.hasOwnProperty;function yi(e){var t=this.__data__;if(pi){var n=t[e];return n===di?void 0:n}return mi.call(t,e)?t[e]:void 0}var gi=yi,vi=ai,bi=Object.prototype.hasOwnProperty;function wi(e){var t=this.__data__;return vi?void 0!==t[e]:bi.call(t,e)}var _i=ai,Oi="__lodash_hash_undefined__";function Ei(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_i&&void 0===t?Oi:t,this}var Si=ui,ki=hi,Ni=gi,Ai=wi,Ti=Ei;function Ii(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ii.prototype.clear=Si,Ii.prototype.delete=ki,Ii.prototype.get=Ni,Ii.prototype.has=Ai,Ii.prototype.set=Ti;var Pi=Ii;function xi(){this.__data__=[],this.size=0}var Li=xi;function Ci(e,t){return e===t||e!=e&&t!=t}var ji=Ci;function $i(e,t){for(var n=e.length;n--;)if(ji(e[n][0],t))return n;return-1}var Mi=$i,Ri=Mi,Di=Array.prototype.splice;function Ui(e){var t=this.__data__,n=Ri(t,e);return!(n<0||(n==t.length-1?t.pop():Di.call(t,n,1),--this.size,0))}var Bi=Mi;function Vi(e){var t=this.__data__,n=Bi(t,e);return n<0?void 0:t[n][1]}var Fi=Mi;function Ki(e){return Fi(this.__data__,e)>-1}var Gi=Mi;function qi(e,t){var n=this.__data__,r=Gi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Wi=Li,Yi=Ui,Ji=Vi,zi=Ki,Hi=qi;function Qi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qi.prototype.clear=Wi,Qi.prototype.delete=Yi,Qi.prototype.get=Ji,Qi.prototype.has=zi,Qi.prototype.set=Hi;var Xi=Qi,Zi=ne(o,"Map"),eo=Pi,to=Xi,no=Zi;function ro(){this.size=0,this.__data__={hash:new eo,map:new(no||to),string:new eo}}function so(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var io=so;function oo(e,t){var n=e.__data__;return io(t)?n["string"==typeof t?"string":"hash"]:n.map}var ao=oo;function co(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t}var lo=oo;function uo(e){return lo(this,e).get(e)}var fo=oo;function ho(e){return fo(this,e).has(e)}var po=oo;function mo(e,t){var n=po(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var yo=ro,go=co,vo=uo,bo=ho,wo=mo;function _o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_o.prototype.clear=yo,_o.prototype.delete=go,_o.prototype.get=vo,_o.prototype.has=bo,_o.prototype.set=wo;var Oo=_o,Eo="Expected a function";function So(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Eo);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(So.Cache||Oo),n}So.Cache=Oo;var ko=So,No=500;function Ao(e){var t=ko(e,(function(e){return n.size===No&&n.clear(),e})),n=t.cache;return t}var To=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Io=/\\(\\)?/g,Po=Ao((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(To,(function(e,n,r,s){t.push(r?s.replace(Io,"$1"):n||e)})),t})),xo=Po;function Lo(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var Co=Lo,jo=Ye,$o=Ar,Mo=1/0,Ro=a?a.prototype:void 0,Do=Ro?Ro.toString:void 0;function Uo(e){if("string"==typeof e)return e;if(jo(e))return Co(e,Uo)+"";if($o(e))return Do?Do.call(e):"";var t=e+"";return"0"==t&&1/e==-Mo?"-0":t}var Bo=Uo;function Vo(e){return null==e?"":Bo(e)}var Fo=Ye,Ko=oi,Go=xo,qo=Vo;function Wo(e,t){return Fo(e)?e:Ko(e,t)?[e]:Go(qo(e))}var Yo=Wo,Jo=Ar,zo=1/0;function Ho(e){if("string"==typeof e||Jo(e))return e;var t=e+"";return"0"==t&&1/e==-zo?"-0":t}var Qo=Ho,Xo=Yo,Zo=Qo;function ea(e,t){for(var n=0,r=(t=Xo(t,e)).length;null!=e&&n<r;)e=e[Zo(t[n++])];return n&&n==r?e:void 0}var ta=ea;function na(e,t,n){var r=null==e?void 0:ta(e,t);return void 0===r?n:r}var ra=na,sa=Object.prototype.hasOwnProperty;function ia(e,t){return null!=e&&sa.call(e,t)}var oa=9007199254740991;function aa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=oa}var ca=Yo,la=Ss,ua=Ye,fa=wn,ha=aa,pa=Qo;function da(e,t,n){for(var r=-1,s=(t=ca(t,e)).length,i=!1;++r<s;){var o=pa(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=s?i:!!(s=null==e?0:e.length)&&ha(s)&&fa(o,s)&&(ua(e)||la(e))}var ma=ia,ya=da;function ga(e,t){return null!=e&&ya(e,t,ma)}var va=ga;const ba=e=>wa(e)?e:[e],wa=e=>Array.isArray(e),_a=e=>!!e&&!wa(e)&&"object"==typeof e,Oa=e=>"number"==typeof e,Ea=e=>"string"==typeof e,Sa=e=>void 0===e,ka=e=>"function"==typeof e,Na=e=>ka(e)?e():e;function Aa(e,t){const n=new RegExp((wa(e)?e:[e]).reduce(((e,t)=>e+(e?`|${t}`:t)),""),t);function r(e,t){if(Ea(e))return e.replace(n,String(t));if(_a(e)){const r=JSON.stringify(e).replace(n,String(t));return JSON.parse(r)}return""}return r}const Ta=function(){const e=fs(Aa("\\${cadlBaseUrl}","gi")),t=(e="",t)=>{if((Ea(t)||Oa(t))&&(t=String(t)),_a(t)){const{greaterEqual:e,less:n,widthHeightRatioThreshold:r}=t;t=1>=r?e:n}return Aa("\\${designSuffix}","gi")(e,t)},n={cadlVersion:fs(Aa("\\${cadlVersion}","gi")),designSuffix:t,cadlBaseUrl:e},r=t=>{let r=[],s=Object.entries(t);t.cadlBaseUrl&&"cadlVersion"in t&&(t.cadlBaseUrl=e(t.cadlBaseUrl,t.cadlVersion));for(let e=0;e<s.length;e++){const[t,i]=s[e]||[];if(t&&t in n){const e=new RegExp("\\${"+t+"}","gi");r.push((t=>t.replace(e,i)))}}return ei(...r)};return r}();function Ia(e,t,n){const r=(null==n?void 0:n.iteratorVar)||"",s=(null==n?void 0:n.listAttribute)?null==n?void 0:n.listAttribute:{};return Ea(e)?La(t,Pa(e,r)):_a(e)?Object.keys(e).reduce(((n,i)=>(e[i].startsWith("listAttr")?n[i]=La(s,Pa(e[i],"listAttr")):n[i]=La(t,Pa(e[i],r)),n)),{}):e}function Pa(e,t=""){return Ea(e)&&t&&e.includes(t)?e===t?"":e.split(`${t}.`).join("").replace(t,""):e}function xa(e,t){if(Array.isArray(t.if)){const[n,r,s]=t.if;return e(n,r,s)?r:s}return!1}const La=(e,t)=>{var n;return t?ra(Na(null==(n=wa(e)?e:[e])?void 0:n.find((e=>va(Na(e),t)))),t):Na(wa(e)?e[0]:e)};function Ca(e){let t=[];return(Array.isArray(e)?e:[e]).forEach((e=>{if(Ea(e))e.startsWith(".")&&t.push(e);else if(wa(e))t=t.concat(Ca(e));else if(_a(e))for(let n in e){const r=e[n];t=t.concat(Ca(n)),t=t.concat(Ca(r))}})),t}function ja(e,t,n){if(e&&"string"==typeof t&&"object"==typeof e){let r="";return r=(null==n?void 0:n.iteratorVar)&&t.startsWith(n.iteratorVar)?t.split(".").slice(1).join("."):t,ra(e,r)}}const $a=function(){const e=new RegExp(`(${Object.values({cadlBaseUrl:"\\${cadlBaseUrl}",cadlVersion:"\\${cadlVersion}",designSuffix:"\\${designSuffix}"}).join("|")})`,"i");function t(t){return!!Ea(t)&&e.test(t)}return t}();function Ma({config:e,deviceType:t="web",env:n="stable",version:r}){try{const s=Number(ra(e,`${t}.cadlVersion.${n}`));return r=Number(r),!!Number.isNaN(r)||!!Number.isNaN(s)||s>r}catch(e){return!0}}function Ra(e=""){return"string"==typeof e&&(e.startsWith("www.")||/https?:\/\//.test(e))}function Da(e){var t;if("string"==typeof e){if(e.startsWith(".")&&(e=e.substring(e.search(/[a-zA-Z]/)).trim()),!/^[a-zA-Z]/i.test(e))return!1;if(e)return(null==(t=e[0])?void 0:t.toUpperCase())===e[0]}return!1}function Ua(e){return Ea(e)&&/^[a-zA-Z]+[0-9]+/.test(e)}function Ba(){return!1}function Va(){return!0}function Fa(e){return!(null==e?void 0:e.endsWith("..tar"))&&Ea(e)&&/(.[a-zA-Z]+)$/i.test(e)}function Ka(e=""){return wa(e)?e:Ea(e)?e.split("."):ba(e).filter((e=>!Sa(e)))}const Ga={prefix:/^[.=@]+/i,suffix:/[.=@]+$/i};function qa(e,t){return"prefix"===t?Ga.prefix.test(e)?e.replace(Ga.prefix,""):e:"suffix"===t?Ga.suffix.test(e)?e.replace(Ga.suffix,""):e:e.replace(Ga.prefix,"").replace(Ga.suffix,"")||""}function Wa(e=""){return!e.endsWith(".yml")&&(e+=".yml"),e}const Ya=["web","ios","android"];class Ja{configVersion(e,t,n){return ra(e,[t,"cadlVersion",n])}appConfigUrl(e,t,n){if(Ea(e)){if(arguments.length<2)throw new Error("cadlMain is required when passing in the baseUrl");return Aa("\\${cadlVersion}","gi")(e||"",n||"")+t}if(_a(e)){if(arguments.length<3)throw new Error("Both the deviceType and env is required when passing in the root config object");const r=Ya.includes(t)?t:"web",s=this.configVersion(e,r,n),i=e.cadlMain||"";return Aa("\\${cadlVersion}","gi")(e.cadlBaseUrl||"",s)+i}return Ea(e)?e:""}destination(e,{denoter:t="^",duration:n=350}={}){var r;const s={destination:"",duration:n,id:""};function i(e=""){const t=e.split(/(@|#)/);if(5!==t.length)return!1;const[n,r,s,i,o]=t;return"@"===r&&"#"===i}if(Ea(e)){if(i(e)){const[t="",n,r="",s,i=""]=e.split(/(@|#)/);return{targetPage:t,currentPage:r,viewTag:i}}if(e.includes(t)){const n=e.indexOf(t);if(s.isSamePage=0===n,s.isSamePage)s.destination="",s.id=e.replace(t,"");else{const i=null==(r=e.split(t)[1])?void 0:r.split(";");let o="",a=(null==i?void 0:i[1])||"";a.startsWith(";")&&(a=a.replace(";","")),s.id=(null==i?void 0:i[0])||"",s.destination=e.substring(0,n),a.split(":").forEach(((e,t)=>t%2==1?s[o]=e:t%2==0?o=e:void 0))}}else s.destination=e,s.isSamePage=!1}else s.destination="";return s}queryString({destination:e="",pageUrl:t="",startPage:n=""}){const r="index.html?";let s=(t=-1!==t.indexOf(r)?t:t+r).endsWith("?")?"":"-";if(e!==n){const n=t.indexOf(`?${e}`),r=t.indexOf(`-${e}`);-1!==n?s=(t=t.substring(0,n+1)).endsWith("?")?"":"-":-1!==r&&(s=(t=t.substring(0,r)).endsWith("?")?"":"-"),t+=`${s}${e}`}else t=r;return t}}e.Parser=Ja,e.createEmitDataKey=Ia,e.createNoodlPlaceholderReplacer=Ta,e.createPlaceholderReplacer=Aa,e.deviceTypes=Ya,e.evalIf=xa,e.excludeIteratorVar=Pa,e.findDataValue=La,e.findReferences=Ca,e.getDataValue=ja,e.hasNoodlPlaceholder=$a,e.isOldConfig=Ma,e.isOutboundLink=Ra,e.isRootDataKey=Da,e.isSerializableStr=Ua,e.isStable=Ba,e.isTest=Va,e.isValidAsset=Fa,e.toDataPath=Ka,e.trimReference=qa,e.withYmlExt=Wa,Object.defineProperty(e,"__esModule",{value:!0})}))}(0,cm.exports);var lm=im({cond:[ip.mapNode,ip.goto],fn({add:e,isValidPageValue:t,isValidViewTag:n,node:r,markers:s,page:i,root:o},{hasPageInAppConfig:a,refResolvesToAnyValue:c}){const l=r.get("goto",!0),u=Pa(l);if(!u)return e("error",ma.DiagnosticCode.GOTO_PAGE_EMPTY);if(va.str(u))if(va.pageComponentUrl(u)){const r=(new cm.exports.Parser).destination(u),a=[];e((c=>{for(const[e,a]of[[r.currentPage,"currentPage"],[r.targetPage,"targetPage"],[r.viewTag,"viewTag"]])if("viewTag"===a&&(n(e)||c.error(ma.DiagnosticCode.VIEW_TAG_INVALID,{viewTag:e})),t(e))o.has(e)||c.error(ma.DiagnosticCode.GOTO_PAGE_MISSING_FROM_ROOT,{page:e}),s.pages.includes(e)||c.error(ma.DiagnosticCode.GOTO_PAGE_MISSING_FROM_APP_CONFIG,{destination:e});else{const e="currentPage"===a?"CURRENT_PAGE":"targetPage"===a?"TARGET_PAGE":"VIEW_TAG",t=ma.DiagnosticCode[`GOTO_PAGE_COMPONENT_URL_${e}_INVALID`];t&&c.error(t,{destination:u,page:i})}a.length&&e((e=>e.messages.push(...a)))}))}else va.reference(u)?c(l,o,i)||e("error",ma.DiagnosticCode.REFERENCE_UNRESOLVABLE):a(u,s)||e("error",ma.DiagnosticCode.GOTO_PAGE_MISSING_FROM_APP_CONFIG,{destination:u});else ip.mapNode(l)&&l.has("destination")}}),um=im({cond:{scalar:ip.reference},fn({add:e,node:t,markers:n,page:r,root:s}){const i=Pa(t);if(i.startsWith("=.builtIn."))return;const o=ga(i);if(va.tildeReference(i)){const e=n.baseUrl+i.slice(2);return ip.scalarNode(t)?t.value=e:t=ap(e),t}const a=Td({node:t,root:s,rootKey:r});if(!o.isLocalRef){const t=o.paths[1];if(va.str(t)){const n=t.charAt(0);n.toUpperCase()===n&&e("warn",ma.DiagnosticCode.ROOT_REFERENCE_SECOND_LEVEL_KEY_UPPERCASE,{ref:o.ref,key:t})}}if(va.und(a.value)){const n=va.localReference(a.reference),s=n?"Local":"Root",i=n?` using root key '${r}'`:"";return e((e=>{e.set("type","error"),e.set("message",`${s} reference '${a.reference}' was not resolvable${i}`),e.set("results",a.results)}),r,t),fr.visit.SKIP}if(!ip.scalarNode(t))return ap(a.value);t.value=Pa(a.value)}}),fm=im({cond:[ip.mapNode,ep("popUpView")],fn({add:e,isValidViewTag:t,node:n,page:r,root:s},{hasBinding:i}){let o=Pa(n.get("popUpView"));const a=ep("actionType","goto",n)||!ep("type",n);if(!a||ep("children","style",n),!t(o))return e("error",ma.DiagnosticCode.POPUP_VIEW_INVALID,{popUpView:o});a&&(i("popUpView",n,r,s)||e("error",ma.DiagnosticCode.POPUP_VIEW_MISSING_COMPONENT_POINTER,{popUpView:o}))}}),hm=im({cond:[ip.mapNode,ep("viewTag")],fn({add:e,isValidViewTag:t,node:n,page:r,root:s},{hasBinding:i}){let o=Pa(n.get("viewTag"));const a=ep("actionType","goto",n)||!ep("type",n);if(!a||ep("children","style",n),!t(o))return e("error",ma.DiagnosticCode.VIEW_TAG_INVALID,{viewTag:o});a&&(i("viewTag",n,r,s)||e("warn",ma.DiagnosticCode.VIEW_TAG_MISSING_COMPONENT_POINTER,{viewTag:o}))}}),pm=Object.defineProperty,dm=Object.defineProperties,mm=Object.getOwnPropertyDescriptors,ym=Object.getOwnPropertySymbols,gm=Object.prototype.hasOwnProperty,vm=Object.prototype.propertyIsEnumerable,bm=(e,t,n)=>t in e?pm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wm=(e,t)=>{for(var n in t||(t={}))gm.call(t,n)&&bm(e,n,t[n]);if(ym)for(var n of ym(t))vm.call(t,n)&&bm(e,n,t[n]);return e},_m=(e,t)=>dm(e,mm(t));function Om(e,t){return va.str(e)?(new fr.Lexer).lex(e):e.lex(t)}function Em(e,t){return va.str(e)?(new fr.Parser).parse(e):e.parse(t)}function Sm(e,t){return e instanceof fr.Composer?e.compose(t,!0):(new fr.Composer).compose(t,!0)}function km(e){return function(t){return wm({type:e},t)}}const Nm=km("anchor"),Am=km("block-scalar-header"),Tm=km("byte-order-mark"),Im=km("comma"),Pm=km("comment"),xm=km("directive-line"),Lm=km("doc-mode"),Cm=km("doc-start"),jm=km("explicit-key-ind"),$m=km("flow-error-end"),Mm=km("flow-map-start"),Rm=km("flow-map-end"),Dm=km("flow-seq-start"),Um=km("flow-seq-end"),Bm=km("seq-item-ind");function Vm(e,t){return wm({type:"block-scalar",source:e},t)}function Fm(e){return wm({type:"block-map"},e)}function Km(e){return wm({type:"block-seq"},e)}function Gm(e){return wm({type:"document",start:[]},e)}function qm(e){return wm({type:"doc-end"},e)}function Wm(e){return wm({type:"directive"},e)}function Ym(e){let t,n="";return va.str(e)?n=e:va.obj(e)&&(t=e,n=e.message||""),_m(wm({type:"error"},t),{message:n})}function Jm(e){return t=>wm({type:e},t)}const zm=Jm("alias"),Hm=Jm("scalar"),Qm=Jm("single-quoted-scalar"),Xm=Jm("double-quoted-scalar");function Zm(e){return wm({type:"map-value-ind",source:":"},e)}function ey(){return[Zm(),ny(" "),ty()]}function ty(e){let t,n="\n";return va.num(e)?n="\n".repeat(e):va.obj(e)&&(t=e),wm({type:"newline",source:n},t)}function ny(e,t){return va.obj(e)&&("indent"in e||"offset"in e||"source"in e)&&(e=null==(t=e)?void 0:t.source),wm({type:"scalar",source:e},t)}function ry(e){let t,n=" ";return va.num(e)?n=" ".repeat(e):va.obj(e)&&(t=e),wm({type:"space",source:n},t)}function sy(e){let t,n;return va.str(e)||va.arr(e)?n=e:va.obj(e)&&(t=e,n=e.source),wm({type:"tag",source:n},t)}var iy,oy=Object.freeze({__proto__:null,getLexTokens:Om,getCstTokens:Em,getCstDoc:Sm,anchor:Nm,blockScalarHeader:Am,byteOrderMark:Tm,comma:Im,comment:Pm,directiveLine:xm,docMode:Lm,docStart:Cm,explicitKeyInd:jm,flowErrorEnd:$m,flowMapStart:Mm,flowMapEnd:Rm,flowSeqStart:Dm,flowSeqEnd:Um,seqColon:Bm,blockScalar:Vm,blockMap:Fm,blockSeq:Km,document:Gm,documentEnd:qm,directive:Wm,error:Ym,flowAliasScalar:zm,flowScalarScalar:Hm,flowSingleQuotedScalar:Qm,flowDoubleQuotedScalar:Xm,mapColon:Zm,mapSeparator:ey,newline:ty,scalar:ny,space:ry,tag:sy}),ay=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},cy=(e,t,n)=>(ay(e,t,"read from private field"),n?n.call(e):t.get(e)),ly=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};class uy{constructor(){ly(this,iy,[])}add(e){return cy(this,iy).push(e),this}toJSON(){return cy(this,iy)}toString(){return JSON.stringify(this.toJSON())}}iy=new WeakMap;class fy extends uy{create(e,t,n){const r=Fm({items:[{start:[],key:ny(`=.builtIn.${e}`),sep:[Zm(),ty()]}]});return this.add(r),r}}var hy=Object.freeze({__proto__:null,factory:oy,BuiltInFn:fy,getLexTokens:Om,getCstTokens:Em,getCstDoc:Sm,anchor:Nm,blockScalarHeader:Am,byteOrderMark:Tm,comma:Im,comment:Pm,directiveLine:xm,docMode:Lm,docStart:Cm,explicitKeyInd:jm,flowErrorEnd:$m,flowMapStart:Mm,flowMapEnd:Rm,flowSeqStart:Dm,flowSeqEnd:Um,seqColon:Bm,blockScalar:Vm,blockMap:Fm,blockSeq:Km,document:Gm,documentEnd:qm,directive:Wm,error:Ym,flowAliasScalar:zm,flowScalarScalar:Hm,flowSingleQuotedScalar:Qm,flowDoubleQuotedScalar:Xm,mapColon:Zm,mapSeparator:ey,newline:ty,scalar:ny,space:ry,tag:sy});e.DocDiagnostics=Tp,e.DocRoot=_p,e.DocVisitor=md,e.assertBuiltIn=am,e.assertGoto=lm,e.assertPopUpView=fm,e.assertRef=um,e.assertUtils=em,e.assertViewTag=hm,e.createAssert=im,e.createAsyncAssert=om,e.createFileSystem=kr,e.deref=Td,e.factory=hy,e.get=op,e.getJsType=Gp,e.getNodeType=_a,e.getYamlNodeKind=Oa,e.has=ep,e.if=Cd,e.is=ip,e.merge=Pd,e.replace=xd,e.set=cp,e.toDoc=Bp,e.toJson=Fp,e.toYml=Vp,e.unwrap=Pa,Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);